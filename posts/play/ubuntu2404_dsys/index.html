<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>【娱乐】Ubuntu 24.04 双系统安装&amp;基本配置全过程保姆级教程 | CXBlog</title>
<meta name="keywords" content="系统相关, 娱乐">
<meta name="description" content="文章非常长，有问题或安装的时候出现异常及时在评论区发一下。
前言
开始之前先说两个概念，就是 Ubuntu 是基于 Linux 内核开发的操作系统发行版‌，相当于 Ubuntu 就是在 Linux 这个开源内核基础上包裹了一个“外壳”。一般 Ubuntu 在中文中念做“乌班图”“吾帮托”“吾帮图”之类的，可以按照您的喜好选择。
首先，我们大费周章地搞一个双系统，必然是有其原因的。
我选择 Ubuntu 的原因主要有几个：

安全：Ubuntu 系统完全是开源的（系统源代码向所有人开放），所以相较于其他系统不会有后门之类的东西。
简洁：Ubuntu 的自带程序极其少，以其目前最新版 Ubuntu 24.04 为例，安装完毕后系统的总 CPU 占用率不到 1%，内存占用不超过 4 GB，所以这就带来了很多好处。
节能：其对于电量的消耗极少，尤其是在开了节能模式的情况下；而且其配置要求极低，与 Windows 10 差不多（但稍高一些，具体可以看下面正文），基本上老电脑都能跑得动，但如果您的电脑 Windows 10 都跑不动建议换新电脑。
美观：如果您看惯了 Windows 10 的 UI 界面，您可以试一下 Ubuntu 的 GNOME 界面，动画效果齐全，但比 Windows 11 耗能少得多，笔者个人认为这个界面已经足以和 Windows 11 媲美了。
快速：笔者实测在 Linux 下很多程序都运行得比 Windows 下快得多，甚至有些能够达到 2 秒和不到 1 毫秒的差别（1000 毫秒为 1 秒）。
当然还有为了装b

甚至安装之后系统还支持 Windows 下的 FAT32、exFAT、NTFS 等文件系统（Linux 的文件系统默认是 ext4），所以您完全可以在您的 Ubuntu 下打开您原本的 C 盘、D 盘等，当然还有您的所有外接存储设备。">
<meta name="author" content="">
<link rel="canonical" href="https://qjwh.github.io/posts/play/ubuntu2404_dsys/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3b2e5c86d6776f1230a6cc3dbc6bde31467e6a5f6513337e196964b4e3693a57.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://qjwh.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://qjwh.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://qjwh.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://qjwh.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://qjwh.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://qjwh.github.io/posts/play/ubuntu2404_dsys/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><script src="https://unpkg.com/feather-icons"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
      
      
      delimiters: [
        {left: '$$', right: '$$', display: true},
        {left: '$', right: '$', display: false},
      ],
      
      throwOnError : false
    });
  });
</script>

<style>
    @font-face { 
        font-family: 'Ubuntu';
        src: url('/UbuntuB.ttf');
    }
    @font-face { 
        font-family: 'Cascadia Code';
        src: url('/Cascadia_Code.ttf');
    }
    @font-face { 
        font-family: 'HarmonyOS Sans SC';
        src: url('/HarmonyOS_Sans_SC.ttf');
    }
    @font-face { 
        font-family: 'JetBrains Mono';
        src: url('/JetBrains_Mono.ttf');
    }
    @font-face { 
        font-family: 'Lato';
        src: url('/Lato.ttf');
    }
    @font-face { 
        font-family: 'Noto Sans SC';
        src: url('/Noto_Sans_SC.ttf');
    }
    body {
        
        font-family: 'Ubuntu';
    }
</style><meta property="og:url" content="https://qjwh.github.io/posts/play/ubuntu2404_dsys/">
  <meta property="og:site_name" content="CXBlog">
  <meta property="og:title" content="【娱乐】Ubuntu 24.04 双系统安装&基本配置全过程保姆级教程">
  <meta property="og:description" content="文章非常长，有问题或安装的时候出现异常及时在评论区发一下。
前言 开始之前先说两个概念，就是 Ubuntu 是基于 Linux 内核开发的操作系统发行版‌，相当于 Ubuntu 就是在 Linux 这个开源内核基础上包裹了一个“外壳”。一般 Ubuntu 在中文中念做“乌班图”“吾帮托”“吾帮图”之类的，可以按照您的喜好选择。
首先，我们大费周章地搞一个双系统，必然是有其原因的。
我选择 Ubuntu 的原因主要有几个：
安全：Ubuntu 系统完全是开源的（系统源代码向所有人开放），所以相较于其他系统不会有后门之类的东西。 简洁：Ubuntu 的自带程序极其少，以其目前最新版 Ubuntu 24.04 为例，安装完毕后系统的总 CPU 占用率不到 1%，内存占用不超过 4 GB，所以这就带来了很多好处。 节能：其对于电量的消耗极少，尤其是在开了节能模式的情况下；而且其配置要求极低，与 Windows 10 差不多（但稍高一些，具体可以看下面正文），基本上老电脑都能跑得动，但如果您的电脑 Windows 10 都跑不动建议换新电脑。 美观：如果您看惯了 Windows 10 的 UI 界面，您可以试一下 Ubuntu 的 GNOME 界面，动画效果齐全，但比 Windows 11 耗能少得多，笔者个人认为这个界面已经足以和 Windows 11 媲美了。 快速：笔者实测在 Linux 下很多程序都运行得比 Windows 下快得多，甚至有些能够达到 2 秒和不到 1 毫秒的差别（1000 毫秒为 1 秒）。 当然还有为了装b 甚至安装之后系统还支持 Windows 下的 FAT32、exFAT、NTFS 等文件系统（Linux 的文件系统默认是 ext4），所以您完全可以在您的 Ubuntu 下打开您原本的 C 盘、D 盘等，当然还有您的所有外接存储设备。">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-08-18T09:51:00+08:00">
    <meta property="article:modified_time" content="2025-08-18T09:51:00+08:00">
    <meta property="article:tag" content="系统相关">
    <meta property="article:tag" content="娱乐">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【娱乐】Ubuntu 24.04 双系统安装&amp;基本配置全过程保姆级教程">
<meta name="twitter:description" content="文章非常长，有问题或安装的时候出现异常及时在评论区发一下。
前言
开始之前先说两个概念，就是 Ubuntu 是基于 Linux 内核开发的操作系统发行版‌，相当于 Ubuntu 就是在 Linux 这个开源内核基础上包裹了一个“外壳”。一般 Ubuntu 在中文中念做“乌班图”“吾帮托”“吾帮图”之类的，可以按照您的喜好选择。
首先，我们大费周章地搞一个双系统，必然是有其原因的。
我选择 Ubuntu 的原因主要有几个：

安全：Ubuntu 系统完全是开源的（系统源代码向所有人开放），所以相较于其他系统不会有后门之类的东西。
简洁：Ubuntu 的自带程序极其少，以其目前最新版 Ubuntu 24.04 为例，安装完毕后系统的总 CPU 占用率不到 1%，内存占用不超过 4 GB，所以这就带来了很多好处。
节能：其对于电量的消耗极少，尤其是在开了节能模式的情况下；而且其配置要求极低，与 Windows 10 差不多（但稍高一些，具体可以看下面正文），基本上老电脑都能跑得动，但如果您的电脑 Windows 10 都跑不动建议换新电脑。
美观：如果您看惯了 Windows 10 的 UI 界面，您可以试一下 Ubuntu 的 GNOME 界面，动画效果齐全，但比 Windows 11 耗能少得多，笔者个人认为这个界面已经足以和 Windows 11 媲美了。
快速：笔者实测在 Linux 下很多程序都运行得比 Windows 下快得多，甚至有些能够达到 2 秒和不到 1 毫秒的差别（1000 毫秒为 1 秒）。
当然还有为了装b

甚至安装之后系统还支持 Windows 下的 FAT32、exFAT、NTFS 等文件系统（Linux 的文件系统默认是 ext4），所以您完全可以在您的 Ubuntu 下打开您原本的 C 盘、D 盘等，当然还有您的所有外接存储设备。">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://qjwh.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "【娱乐】Ubuntu 24.04 双系统安装\u0026基本配置全过程保姆级教程",
      "item": "https://qjwh.github.io/posts/play/ubuntu2404_dsys/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【娱乐】Ubuntu 24.04 双系统安装\u0026基本配置全过程保姆级教程",
  "name": "【娱乐】Ubuntu 24.04 双系统安装\u0026基本配置全过程保姆级教程",
  "description": "文章非常长，有问题或安装的时候出现异常及时在评论区发一下。\n前言 开始之前先说两个概念，就是 Ubuntu 是基于 Linux 内核开发的操作系统发行版‌，相当于 Ubuntu 就是在 Linux 这个开源内核基础上包裹了一个“外壳”。一般 Ubuntu 在中文中念做“乌班图”“吾帮托”“吾帮图”之类的，可以按照您的喜好选择。\n首先，我们大费周章地搞一个双系统，必然是有其原因的。\n我选择 Ubuntu 的原因主要有几个：\n安全：Ubuntu 系统完全是开源的（系统源代码向所有人开放），所以相较于其他系统不会有后门之类的东西。 简洁：Ubuntu 的自带程序极其少，以其目前最新版 Ubuntu 24.04 为例，安装完毕后系统的总 CPU 占用率不到 1%，内存占用不超过 4 GB，所以这就带来了很多好处。 节能：其对于电量的消耗极少，尤其是在开了节能模式的情况下；而且其配置要求极低，与 Windows 10 差不多（但稍高一些，具体可以看下面正文），基本上老电脑都能跑得动，但如果您的电脑 Windows 10 都跑不动建议换新电脑。 美观：如果您看惯了 Windows 10 的 UI 界面，您可以试一下 Ubuntu 的 GNOME 界面，动画效果齐全，但比 Windows 11 耗能少得多，笔者个人认为这个界面已经足以和 Windows 11 媲美了。 快速：笔者实测在 Linux 下很多程序都运行得比 Windows 下快得多，甚至有些能够达到 2 秒和不到 1 毫秒的差别（1000 毫秒为 1 秒）。 当然还有为了装b 甚至安装之后系统还支持 Windows 下的 FAT32、exFAT、NTFS 等文件系统（Linux 的文件系统默认是 ext4），所以您完全可以在您的 Ubuntu 下打开您原本的 C 盘、D 盘等，当然还有您的所有外接存储设备。\n",
  "keywords": [
    "系统相关", "娱乐"
  ],
  "articleBody": "文章非常长，有问题或安装的时候出现异常及时在评论区发一下。\n前言 开始之前先说两个概念，就是 Ubuntu 是基于 Linux 内核开发的操作系统发行版‌，相当于 Ubuntu 就是在 Linux 这个开源内核基础上包裹了一个“外壳”。一般 Ubuntu 在中文中念做“乌班图”“吾帮托”“吾帮图”之类的，可以按照您的喜好选择。\n首先，我们大费周章地搞一个双系统，必然是有其原因的。\n我选择 Ubuntu 的原因主要有几个：\n安全：Ubuntu 系统完全是开源的（系统源代码向所有人开放），所以相较于其他系统不会有后门之类的东西。 简洁：Ubuntu 的自带程序极其少，以其目前最新版 Ubuntu 24.04 为例，安装完毕后系统的总 CPU 占用率不到 1%，内存占用不超过 4 GB，所以这就带来了很多好处。 节能：其对于电量的消耗极少，尤其是在开了节能模式的情况下；而且其配置要求极低，与 Windows 10 差不多（但稍高一些，具体可以看下面正文），基本上老电脑都能跑得动，但如果您的电脑 Windows 10 都跑不动建议换新电脑。 美观：如果您看惯了 Windows 10 的 UI 界面，您可以试一下 Ubuntu 的 GNOME 界面，动画效果齐全，但比 Windows 11 耗能少得多，笔者个人认为这个界面已经足以和 Windows 11 媲美了。 快速：笔者实测在 Linux 下很多程序都运行得比 Windows 下快得多，甚至有些能够达到 2 秒和不到 1 毫秒的差别（1000 毫秒为 1 秒）。 当然还有为了装b 甚至安装之后系统还支持 Windows 下的 FAT32、exFAT、NTFS 等文件系统（Linux 的文件系统默认是 ext4），所以您完全可以在您的 Ubuntu 下打开您原本的 C 盘、D 盘等，当然还有您的所有外接存储设备。\n但安装 Ubuntu 后您可能会不太适应，这里说几点主要的差别：\n部分软件（尤其是小众的）可能并不适配 Linux（如果适配的话，一般在官网上会有一个企鹅的图标，或者 Ubuntu 的“三点共圆”图标），或者适配不齐全，如果您必须需要这个软件，可以考虑用wine或者bottles，但笔者没配成功，教程只能咕咕咕了。 如果您下载了一个.exe的安装包，或者运行了您原本 Windows 环境下安装的.exe可执行文件，那么恭喜你，Linux 没法运行，在 Linux 下可执行文件默认是没有后缀名的，而且 Linux 下的安装包一般是以.deb或.rpm结尾（尽量下载前者，后者 Ubuntu 原生不支持，需要安装额外软件）。 Linux 下没有什么 C 盘、D 盘，所有的文件都存储在根目录/之下，所以就有了系统自毁命令sudo rm -rf /。 Linux 下“使用管理员权限运行”是在终端命令前面加上一个sudo，比如sudo apt update，之后会让您输入您的密码，注意在 Linux 终端内输入密码是不显示的，如果认为输错了可以直接长按Backspace然后重输。 替代第 4 条的一个偷懒的方案是输入： sudo su - 命令，输入密码之后您的终端就会变为root模式（根用户模式，相当于管理员），之后所有的命令都相当于是在前面加了个sudo；如果想要退出可以输入： exit 然后就可以变为普通模式了。 安全方面的提醒：Linux 不同于 Windows，Windows 下如果获得管理员权限干的事情也有限（至少不至于把您的系统干掉），因为 Windows 有系统文件保护机制（WFP）；但 Linux 下只要获得了root权限，就可以干任何事情，包括直接把您系统和数据一并干掉（就是上面那个自毁命令），所以一定注意密码安全。 如果您使用终端，那么运行程序的时候要在前面加一个./，比如您要运行程序test，就要在终端内cd到当前目录（不要加/d选项，原因见第 3 条），然后输入./test运行。 注意 Linux 系统下是没有 Windows 键的（废话），因为这个按键在 Linux 内被叫做“Super”，但其部分功能是一样的，比如Super+L锁屏等，具体下面会有介绍。 … 现在您已经基本知道 Ubuntu 系统的优势和其与 Windows 的差别了，现在我们开始准备安装。\n准备 配置检查 Ubuntu 24.04 的最低配置要求：\n2 GHz 双核处理器（推荐至少 4 核） 4 GB 内存（推荐 8 GB 及以上） 25 GB 存储空间（推荐分配 50 GB） 是的，没有其他要求了，不用什么 TPM 2.0，不用什么 DirectX。\n注意，您安装双系统之后，您安装的 Ubuntu 用的是您的所有 CPU、内存等资源，不是跟虚拟机一样您给它分配一部分。\n关于存储空间，笔者配完所有的下面步骤之后刚好用了 25 GB，如果想要轻度办公只用 40 GB 即可，如果想要作为主力机的话建议 50 GB 起步。\n注意双系统不是虚拟机，不是 WSL，不是您想要让它装在哪个盘就装在哪个盘的，您必须要提前分出来这么多空间的一个单独的盘，然后系统安装器会把您指定的那个盘格式化再继续安装。\n注意您在安装的时候还要在您指定的盘内分配至少 2.2 GB 空间（应该固定是这个值）给 Windows Boot Manager（Windows 启动管理器），不然您就进不去您原来的 Windows 了。\n具体信息会在下面安装过程中说到。\n存储准备 检查了您符合这个最低要求之后，您就可以为 Ubuntu 分配空间了。\n（操作基本都很无脑，这部分不配图了）\n显然正常电脑都不可能一开始就给您几十个 GB 的空盘，所以我们就要从一个盘中压缩空间给 Ubuntu 系统。\n首先按下 Win+X 组合键（或者右键左下角 Windows 图标），在弹出菜单中选择“磁盘管理”。 等待界面加载出来后，右键点击您想要压缩的盘，在菜单选择“压缩卷”，按照向导输入您想要压缩的空间大小（注意是以 MB 为单位，不是 GB），然后一路下一步即可。 注意一定要给您的硬盘分配足够的多余空间，比如 40 GB 就要至少剩余 45 GB 之类的。 接下来在您压缩的盘右边会出现一个顶部是黑色的盘，我们右键它，点击“新建简单卷”，然后按照向导走即可。 您压缩出来的黑色盘变为深蓝色（跟您的其他盘一个颜色）就成功了。\n镜像准备 首先要准备一个有至少 8 GB 容量的 U 盘，用于烧录我们的.iso系统镜像文件（相当于系统的安装包）。\n这里不建议各位从 Ubuntu 官网下载镜像文件，因为官网需要科学上网，还比较慢，所以这里推荐几个镜像站：\n清华镜像站 阿里云镜像站 下载直链：（链接指向的是笔者编写时的最新版本 Ubuntu 24.04.3，大小 5.9 GB）\n清华镜像站 阿里云镜像站 下载完成之后，我们准备一个用于烧录镜像文件到 U 盘内的软件，这里推荐用 Rufus，官网点这里。\n官网默认下载用的是 Github，如果上不去可以用镜像链接（指向笔者编写时的最新版 4.9）。\n下载后直接打开（这不是安装包），界面大概长这样：\n点击“引导类型选择”右边的“选择”按钮，选中您下载的.iso镜像文件，其他设置保持默认即可，然后点击最下面的“开始”。\n注意开始之前一定做好数据备份，因为这一步会直接格式化您的 U 盘。\n此时软件会直接开始把镜像文件烧录到您的 U 盘，这一步的时长和您 U 盘传输速率有关系，此时您可以离开电脑休息一下。\n完成后点击“关闭”即可。\n此时，这个 U 盘就不是一个普通的 U 盘了，而是 Ubuntu 的启动盘（又称 Ubuntu Live USB）：\n注意事项 但在正式开始之前，先替大家避几个坑：\n首先，一定关闭 BitLocker，方法可以自行百度。 其次，双系统用户一定要关闭快速启动，方法： 打开控制面板，搜索并打开“电源选项”：\n点击“选择电源按钮的功能”：\n点击“更改当前不可用的设置”，最后关闭“启用快速启动”选项，并保存更改：\n如果您的电脑没有这个选项，那么大概率是您的电脑不支持，这一步您就可以跳过了。\n还有，要关闭安全启动，方法在下一节里会提到。 Ubuntu，启动！ 经过一通准备，终于可以开始安装了。\n关闭快速启动 打开系统设置，进入“系统”选项卡的“恢复”选项（Windows 11 操作方法，Windows 10 用户可以直接搜索设置），然后点击“高级启动”右边的“立即重新启动”。\n然后依次转到“疑难解答”、“高级选项”、“UEFI 固件设置”选项卡，在这里您要把安全启动（Secure Boot）的状态从“enabled”（启用）改为“disabled”（禁用），然后按“F10”保存并退出即可。\n开始安装！ 如果您已经确保您将安全启动关闭，则您可以直接在进入“高级启动”界面后点击“继续”下面的“使用设备”，然后系统就会自动重启。\n请确保您此时已经将我们在前几步中烧录的 U 盘插入到电脑的 USB 接口中。此时如果您的电脑上只插了这一个 U 盘应该就可以直接进入 Ubuntu 安装界面，如果不是的话注意正确选择您烧录的 U 盘。\n第一个界面选择Try or Install Ubuntu：\n语言选择中文（简体）（除非您想锻炼您的英语水平），键盘选择汉语（这是默认选项）：\n接下来会让你连接到互联网：\n笔者在安装的时候没有联网，实测最终装的应用也基本够了，但如果您想要安装更完整的软件可以联网。\n接下来选“安装 Ubuntu”：\n用“交互安装”模式：（谁也不知道“自动安装”会把您的电脑装成啥样）\n接下来自行选择，建议“默认集合”：\n也是自行选择，建议把图片中第一个选项勾选上：\n接下来一定要选择第一个，选第二个您的 Windows 系统就没了，第三个有些复杂自行摸索：\n然后会让您选择安装硬盘，注意要选择您分配出的新的盘（一般都是编号最大的，比如我的电脑下就是nvme0n1p9），并分配部分空间给 Windows Boot Manager，这里建议直接把 Ubuntu 空间拉到最大。\n接下来设置一下您的账户：\n设置时区：\n然后 Ubuntu 就会开始安装了。\n笔者实测不联网、选择默认集合、安装了所有可用的专有软件的情况下，安装只用了 5 分钟。\n当您看到这个界面的时候，恭喜你，安装成功了！\n点击“立即重启”，然后在这个界面：\n您可以不做任何操作，系统会在 10 秒后自动选择高亮的 Ubuntu 选项并进入系统，或者按一下 Enter 也彳亍。\n注：如果您想要进入 Windows 系统，可以通过上下方向键选择图片中的第 5 个选项，也就是“Windows Boot Manager”，就可以进入原本的 Windows 系统了。另外在选择系统界面按一下方向键就会取消原本的 10 秒倒计时。\n在此时，您要拔掉您的启动盘，否则系统会提示“请移除您的启动设备（medium 是媒介、设备的意思），然后按下回车键继续”。\n接下来当您看到一个橙色方框里面有您在安装过程中指定的用户名的时候，您就进入系统了！\n按下回车（或者点击您的用户卡片），输入密码，您就看到了最初 Ubuntu 系统的样子。\n一通配置 （喜报：笔者初稿写到这里的时候已经狂肝 7k+ 字了，这里还要说一堆……）\n熟悉一下界面和基本键盘操作 首先，Ubuntu 的任务栏在左边，菜单在右上角（里面有声音、亮度、WLAN、蓝牙等设置），所有您安装过的应用在点击左下角这个 Ubuntu 图标后就可以看到了。\n正如上面所说，这里 Windows 键被叫做Super，关于它也有很多快捷键，比如：\nSuper+L：锁屏 单击Super：显示所有打开的窗口 快速双击Super：显示安装过的应用 其次，这里有些应用可能跟 Windows 的叫法不太一样，比如：\nFirefox：系统自带浏览器（相当于 Edge，但比 Edge 简洁多了） 文件（Files）：文件资源管理器 系统监视器（System Monitor）：任务管理器 文本编辑器（Text Editor）：Notepad 启动应用程序（不知道英文翻译）：开机启动项管理器 … 接下来我统一用 Ubuntu 对于应用名称的中文翻译称呼应用。\n这里建议大家在左侧把 Firefox、文件、终端、系统监视器固定上，尤其是终端，很常用也很有用。\n如果您想要用文件应用的话，记得在该应用内按一下Ctrl+H显示隐藏文件，因为 Linux 默认会把.开头的文件/文件夹隐藏掉。\n现在我向您介绍一下终端的大概界面：\n打开终端，您会看到一个紫底白字的界面，这就是 Ubuntu 的默认终端界面。\n与 Windows 下的 CMD、Powershell 不同，在您输入的命令前面会依次有这些信息：\n用户名@主机名:当前路径$ 如果您输入sudo su -获得了根用户权限，那么您的用户名会变成root。\n如果当前路径是/，则代表系统根目录（见最上面第 3 条），~代表当前用户的根目录。\n一般而言，如果是普通用户，根目录就是/home/用户名，根用户的根目录是/root，注意这个区别。\n如果您无法确认您当前的路径，可以输入pwd指令，回车，就可以看到当前路径了。\n另外，Ubuntu 终端的复制、粘贴快捷键是Ctrl+Shift+C、Ctrl+Shift+V，并且单击右键是不能直接复制粘贴的，要在右键菜单内手动点击一下。\n安装软件\u0026疑难解答 （是的，我已经帮您踩过很多坑了……）\n感谢 DeepSeek、百度对本部分的帮助。\n注意，下面几乎所有的软件安装、异常处理等都需要终端，请随时打开终端，并做好使用它的准备。\n因为下面的安装过程非常繁琐，所以我自己编写了一个 程序（尚未完工），运行方法：\n首先打开终端，cd到您下载的位置，然后直接输入：\n./autoconfig 回车即可。\n如果终端提示执行失败（大概率也不会有这个问题），则请保证这个文件有执行权限，可以用这个命令授予：\nchmod +x ./autoconfig 然后重新执行运行命令即可。\n注意：这个自动安装脚本只保证兼容 Ubuntu 24.04 系统，过旧或过新的系统都可能导致运行出错，如果运行此脚本导致出现了错误，请把报错信息发在评论区，我会进行处理。\n另外，这个脚本是用 C++ 编写的，完全开源，源码下载链接（尚未完工）。\n1. 基础终端命令 事实上很多命令和 Windows 都一样的，但部分命令还是有差别的，这里都说一下：\ncat：输出文件内容（Windows 下是type）\ncp：复制文件/文件夹（Windows 下是copy）\n下面还会修改很多配置文件，建议每次改配置文件之前把原本的文件cp一下，比如config.conf可以复制为config.conf.bak（bak是backup，即“备份”，的简写）\ncp -r：递归复制，说白了就是复制文件夹用的\n文件夹用的\nmv：移动文件/文件夹（Windows 下是move）\nls/dir：输出当前目录下的文件/文件夹列表（Windows 下只有dir），注意它只会输出文件名，没有详细信息\nls -a：输出所有文件（包括隐藏文件）\ncd：转到文件夹，注意目录分隔符不要写成\\，而是/\ncd ..：返回上级目录\n只敲一个cd：返回当前用户的根目录\nrm：删除文件/文件夹（Windows 下是del）\nrm -r：递归删除，说白了就是删除文件夹用的\nmkdir：新建文件夹，注意 Linux 下新建文件夹必须要一级一级建立（比如您输入了mkdir a/b/c/d，但a/b/c这个文件夹不存在，那么系统就没法建文件夹了）\nrmdir：删除文件夹，没用\n因为它相当于rm -r，但其难用的点就在于删除非空文件夹时候需要加上--ignore-fail-on-non-empty参数（但rm -r不用加）\n软件包系列的指令：（下面指令基本都要sudo）\napt：Linux 经典软件包管理器之一 apt update：更新可用软件包列表（建议在执行install、reinstall指令前都运行一下） apt install 软件包名称：安装软件包（具体使用方法下面会说） apt reinstall 软件包名称：重新安装软件包 apt purge 软件包名称（注意不是uninstall）：卸载软件包 apt upgrade：一键更新所有软件包 apt autoremove：一键卸载所有没用的软件包（建议在卸载软件包后都运行一下） apt-get：跟apt基本一个意思 apt-mark：对软件包进行安装标记的工具 apt-mark hold 软件包名称：设置软件包为保留，让apt无法自动更新、卸载一个软件包 apt-mark unhold 软件包名称：取消其保留标记 dpkg：Linux 经典软件包管理器之一，但一般用于本地安装包的安装 dpkg -i 软件包文件名：安装这个软件包 如果您想要知道一个命令的详细信息，可以在命令后面加一个--help，比如rm --help，注意不是 Windows 下的/?，因为 Linux 会把这个识别成路径。\n2. 软件换源 我之所以要讲这个，是因为 Ubuntu 默认安装软件访问的是它的官网，下载比较慢（或者干脆访问不上），所以我们就要让系统安装软件的时候，访问我们国内的镜像源。\n这里提供一下清华镜像源的配置方法（其他镜像源配置也差不多）：\n官方配置方法\n2.1. 确定新旧版 首先，新旧版的换源方法是不一样的。\n区分方法是输入cat /etc/apt/sources.list，如果输出了一堆内容就代表您使用的是旧版，但如果只有一行：\n# Ubuntu sources have moved to /etc/apt/sources.list.d/ubuntu.sources 或者干脆没有，那就是新版。理论上按照编者上面内容安装的 Ubuntu 24.04 那大概率都是新版。\n接下来我们根据新旧版分别打开：\n旧版：/etc/apt/sources.list 新版：/etc/apt/sources.list.d/ubuntu.sources 打开方法有两种：\nUI： 打开“文件”（应用名称）。 点一下上面的目录栏（刚打开应该显示的是“主文件夹”，点一下会显示/home/您的用户名）。 然后您就可以任意改路径了（改成旧版的/etc/apt或者新版的/etc/apt/sources.list.d）。 接下来双击打开对应文件（旧版的sources.list或者新版的ubuntu.sources）即可。 接着就可以任意修改文件了。 注意保存文件的时候要输入密码，因为这个文件夹只有管理员才能改。 Vim： （如果您的系统没有预装 Vim 的话这一步还没法用，但后面改配置基本都要用到 Vim） 在终端内输入sudo vim 要打开的文件（这里加sudo是因为这个文件要管理员权限才能修改，普通文件不用加sudo）。 然后按下I键进入编辑模式（刚用 Vim 打开一个文件默认是命令模式，没法修改文件）。 接下来就可以任意修改文件了，用法跟普通的文本编辑器差不多。 修改完之后，按下Esc键重新进入命令模式。 依次输入:wq以保存并退出。 看到重新回到终端界面就成功了。 2.2. 修改配置 然后我们开始修改配置文件。\n注意下面的内容只针对 Ubuntu 24.04 版本，其他版本可以自行去官方网站，如果是旧版则配置文件是网站里的第一个文本框，新版是第二个，版本自行修改文本框上面“Ubuntu 版本”的内容。\n旧版改成：\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble main restricted universe multiverse\rdeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble-updates main restricted universe multiverse\rdeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble-backports main restricted universe multiverse\rdeb http://security.ubuntu.com/ubuntu/ noble-security main restricted universe multiverse 新版改成：\nTypes: deb\rURIs: https://mirrors.tuna.tsinghua.edu.cn/ubuntu/\rSuites: noble noble-updates noble-backports\rComponents: main restricted universe multiverse\rSigned-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg\rTypes: deb\rURIs: http://security.ubuntu.com/ubuntu/\rSuites: noble-security\rComponents: main restricted universe multiverse\rSigned-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg 保存并退出即可。\n确认自己有没有正确换源可以在终端输入：\nsudo apt update 如果看到了tsinghua、tuna等字眼就是换源成功了。\n3. Vim Vim 是 Linux 下非常出名的一个编辑器，也是接下来修改配置的必要软件。\n安装方法：\nsudo apt update sudo apt install vim 如果安装出错可以执行一下：\napt --fix-broken install 因为刚刚安装的系统可能会有安装不完整的问题。\n但如果您在安装的时候安装了更多的软件，可能系统会自带 Vim。\n4. 输入法 古语有云，没有输入法的系统是没有灵魂的，所以我们先配置一下我们的输入法。\n4.1. 下载 这里建议用搜狗输入法（注意一定要加上/linux的网址后缀，不然下载的就是 Android 版了），点击“立即下载”，弹窗内的版本根据您的电脑选择（一般都是“x86_64”），点一下就开始下载了。\n然后搜狗就会自动弹出官方安装指导，当然您也可以继续看这里的安装教程。最下面会有关于这部分的异常处理。\n注意下载后不要着急安装这个安装包，先改配置。\n4.2. 设置 首先打开“设置”应用，依次进入“系统”“区域和语言”“管理已安装的语言（Manage Installed Languages）”菜单，如果找不到可以点左上角的放大镜符号搜索设置。\n首次启动可能需要下载一下语言包，耐心等待即可。\n接下来设置“菜单和窗口的语言”下面的第一个语言为“汉语（中国）”。\n如果安装的时候选择了中文语言这里应该就不用设了。\n但如果在栏里面没找到“汉语”选项，就点一下下面的“添加或删除语言…”：\n往下划找到“中文（简体）”选项，把这个框勾选上：\n最后点击右下角“应用”即可。\n应该要安装一下语言包，等待即可。\n然后回到“语言支持”窗口，把“键盘输入法系统”换成“fcitx”或者“Fcitx 4”：\n理论上 Ubuntu 24.04 应该是预装了 Fcitx 4 的，但如果您的双系统没有的话，在终端运行：\nsudo apt update sudo apt install fcitx 然后再改设置即可。\n注：Ubuntu 的终端支持多行命令，您可以将上述命令直接复制到您的终端内。\n接下来卸载设置 Fcitx 开机自启：\nsudo cp /usr/share/applications/fcitx.desktop /etc/xdg/autostart/ 卸载 IBus 输入法框架以免冲突：\nsudo apt purge ibus 4.3. 安装 经过一通操作，终于可以开始安装了。\n我们打开终端，cd到您下载的.deb文件目录，然后运行：\nsudo dpkg -i 安装包名 比如这是笔者编写时的最新版本的安装命令：\nsudo dpkg -i sogoupinyin_4.2.1.145_amd64.deb 然后安装输入法依赖：\nsudo apt install libqt5qml5 libqt5quick5 libqt5quickwidgets5 qml-module-qtquick2 sudo apt install libgsettings-qt1 4.4. 测试 接下来我们输入法就安装完成了。\n重启电脑，右上角应该能够看到“搜狗”字样：\n如果没有的话，点击配置：\n点击左下角的加号，搜索sogou，选中搜狗拼音，点击“OK”即可：\n5. 输入法 - 异常处理 5.1. 【已解决】开机没有看到输入法？ 开机没有看到搜狗输入法是正常现象，因为其开机启动是需要时间的，等一下即可，理论上不会超过 1 分钟。\n如果超过这个时间还没看到的话，建议检查一下您是否把 Fcitx 加到了开机启动项（可以打开左下角“显示应用”里的“启动应用程序”，看有没有 Fcitx 字样即可），如果没有，添加一下；如果有，可以手动在应用列表里面点一下 Fcitx。\n5.2. 【已解决】我的搜狗状态栏开始闪烁抽风了 理论上 Ubuntu 24.04 系统肯定会出现这个 bug。\n因为 Ubuntu 24.04 默认用的是 Wayland 显示协议，跟搜狗输入法的显示协议不兼容。\n所以我们在设置里把 Wayland 关闭，改成 Xorg 即可。\n操作方法：\n打开文件/etc/gdm3/custom.conf（方法见 2.1）。 把#WaylandEnable=false这一行的#删掉即可。 保存并退出。 然后重启，就恢复正常了。\n6. 在 Ubuntu 系统打开其他盘 打开“文件”应用，点击左侧菜单的“其他位置”按钮，您就可以看到您的所有盘了。\n随便点击一个，Ubuntu 就会自动判断其文件系统，并打开。\n给开发者的提醒：Windows 中文版默认文件系统的编码是 GBK，但 Ubuntu 是 UTF-8，所以 Ubuntu 会把 Windows 的文件系统文件名转为 UTF-8 再处理（但不进行实际修改），所以您在编写代码的时候记得用 UTF-8 编码调用文件。\n7. 在 Ubuntu 系统打开其他盘 - 异常处理 7.1. 【已解决】我在 Windows 下能够打开我的盘，但 Ubuntu 下提示“文件系统已损坏”之类的错误 首先尝试更新一下 NTFS 驱动：（如果您的盘是 NTFS 文件系统）\nsudo apt update sudo apt install ntfs-3g 然后您可以查看一下上面说的“其他位置”菜单里，您的盘右边写的路径是多少（一般以/dev/开头，比如我的 C 盘就是/dev/nvme0n1p3，注意，这个路径只是引导文件路径，不是实际存储文件的路径）\n接下来用 Linux 自带的软件修复：\nsudo ntfsfix -d 路径 # 如果您的文件系统是 NTFS（相当于 Windows 下的 chkdsk 命令） sudo fsck.fat -a 路径 # 如果您的文件系统是 FAT32 或 exFAT（相当于 Windows 下的 chkdsk 命令） sudo fsck -y -f 路径 # 如果您的文件系统是 ext2、ext3 或 ext4（用于 Linux 系统盘损坏） 此时多数问题应该都能解决了。\n当然，如果您不想用终端，也可以用图形化界面：\nsudo apt install gnome-disk-utility 不过这个软件大概率预装了，我们可以直接点击桌面左下角“显示应用”，点击“工具”文件夹，点击“磁盘”应用。\n接下来这个界面和操作就和 Windows 里的“磁盘管理”差不多了，自行摸索即可。\n7.2. 【已解决】仍然无法解决问题 那么您可以进入 Windows 系统，然后输入：\nchkdsk /f 磁盘盘符（如C:等） 耐心等待一会儿即可。\n如果还是无法解决问题，且 U 盘内没有过于重要的数据，可以再加上/r选项，这个选项可能会损坏数据（但概率小）。\n8. 安装 VMware 如果您原本就是一个虚拟机用户，那么用 Linux 版的 VMware 也可以直接打开您在 Windows 下装的虚拟机。\n8.1. 下载 因为 VMware 被 Broadcom 收购了，链接非常深，所以提供一个下载直达链接。\n进入后，点击“VMware Workstation Pro for Linux”，然后在下面的列表内选择最新的版本，下载即可。\n8.2. 安装 然后，您就会发现，咋这个后缀名是.bundle呢？不是说安装包都是.deb吗？\n这是因为，VMware 的安装包其实是 Ruby 语言编的，所以我们要先装一下 Ruby：\nsudo apt update sudo apt install ruby 然后运行：\nsudo ./您下载的文件名 然后等待一会儿，您的 VMware 就安装好了。\n9. 安装 VMware - 异常处理 9.1. 【已解决】进不去 VMware，一直报错“一些模块需要安装到内核内”，点击“安装”后又报错“建立环境失败，一个需要的引用缺失” 一般这个问题是因为缺少内核模块，运行以下命令安装即可：\nsudo apt update sudo apt install build-essential sudo apt install linux-headers-$(uname -r) 9.2. 【未解决】这 VMware 的界面咋是英文的？ 没办法，好像人家 VMware 只支持英文了……\n您可以考虑手动配置一下语言包（方法可以问 DeepSeek），如果您实在看不懂英文的话。\n10. 安装一堆杂七杂八的软件 10.1. G++ 安装 G++ 是用于编译 C++ 代码的编译器，如果您也使用 C++ 进行编程，可以直接执行：\nsudo apt update sudo apt install g++ 即可安装。\n但这样安装的可能不是最新版（笔者安装的是13.2.0版本，但在安装的时候最新版已经15.1.0了）。\n如果对最新版有很高要求的话可以去 mingw-w64 官网，选择 Arch Linux，点击右侧的 Download From Mirror 进行下载。\n然后您就会发现下载的速度慢到离谱，所以建议科学上网。\n接下来还要把下载的结果拷到可执行文件的文件夹下，笔者也不会配，所以不写教程了。\n10.2. Git 安装 为了在 Linux 上也能访问开源软件网站 Github，可以通过这个指令安装 Git：\nsudo apt update sudo apt install git 10.3. VSCode 安装 去官网首页点击下面的“Download for Linux (.deb)”按钮就可以直接下载.deb安装包了，接下来用：\nsudo dpkg -i 安装包名 即可直接安装。\n10.4. QQ 安装 官网直达，往下划一点，然后用跟搜狗拼音一样的选择方法下载.deb安装包。\n安装方式同 VSCode。\n10.5. 微信安装 官网直达，用跟搜狗拼音一样的选择方法下载.deb安装包。\n安装方式同 VSCode。\n10.6. LX Music 安装 我说这个软件是因为它要从 Github 上下载，可以说一下如何在 Github 上选安装包，同时它也涉及到数据同步的问题。\n官网直达，在 Releases 栏的 Assets 列表内找到形如lx-music-desktop_版本号_amd64.deb的安装包（现在电脑应该大多数都是amd64架构），点一下即可下载.deb安装包。\n如果嫌慢可以在下载的链接前面加上https://ghproxy.net/等镜像网站的链接，就可以下载得快一些。\n之后安装同 VSCode。\n然后就是关于怎么在 Windows 上把您这个软件的数据拷贝到 Ubuntu 的问题了。\n根据官方文档，Windows 下的文件目录在形如C:\\Users\\用户名\\AppData\\Roaming\\lx-music-desktop的路径下，而 Linux 系列则是~/.config/lx-music-desktop。\n所以我们就可以按照配置的第 6 步教的方法访问到这个路径，把必要文件（如LxDatas内存储了所有的配置文件）拷贝一下，复制到 Ubuntu 的数据目录即可。\n10.7. WPS Office 安装 官网直达，点击“立即下载”下载.deb安装包。\n安装方式同 VSCode。\n注意，WPS Office 会占用 2 GB 以上的空间，请按需安装，如果真的遇到系统无法打开的文档建议下载其他 Office 替代品。\n10.8. NPM 安装 与apt不同，npm是专门为 Node.js 开发的软件包管理器，安装方法也很简单：\nsudo apt update sudo apt install npm 10.9. RPM 安装 如果哪个软件只支持.rpm安装包，那么此时这个软件就派上用场了：\nsudo apt update sudo apt install rpm 用法跟dpkg一模一样，这里就不赘述了。\n10.10. 安装字体 （准确来说这不算软件安装，但不要在意这些细节）\nUbuntu 系统兼容绝大多数的字体，如.ttf、.otf等，您双击这些字体也能看到，Ubuntu 能够正常识别并安装这些字体。\n但对于要装的字体特别多的时候，一个一个手动安装必然不是好方法，所以这里介绍一种偷懒的方法。\nLinux 存储系统字体的目录在/usr/share/fonts这个目录下，可以看到有两个目录：\ntruetype：用于存储.ttf格式字体。 opentype：用于存储.otf格式字体。 （其实还有别的目录，只是笔者不知道存啥的罢了）\n那接下来的操作就简单了，我们把您的字体文件夹复制（cp -r）到对应目录下即可。\n最后记得刷新缓存，不然您可能看不到您新安装的字体：\nfc-cache -fv 等待几秒即可。\n11. 一堆异常处理 11.1. 【已解决】我的文件资源管理器为啥右上角会有个角标？ 首先看看您有没有未执行完的文件操作，等待之后应该就可以消失。\n但如果没有操作，重启也没法解决，那么您可以点击一下您桌面正上方的时间，此时会进入系统的通知和日历页面。\n然后，把所有的通知都消除掉，角标应该就消失了。\n如果都不彳亍的话，一般就是因为各种其他软件导致，建议问 DeepSeek 来定位问题。\n11.2. 【已解决】我的电脑为啥关机这么慢 这不是应用的问题，因为系统设置的就是 90 秒关机……\n想改的方法也很简单，我们打开/etc/systemd/system.conf配置文件，然后找到这一行：\n#DefaultTimeoutStopSec=90s 把#去掉，然后把这个时间改小，比如改成：\nDefaultTimeoutStopSec=5s 下面关机就快了。\n11.3. 【已解决】为啥我的 Git 不记我的账号密码？每次都得重输 执行命令：\ngit config --global credential.helper store 即可在输入您的 Git 凭证的时候将您的凭证明文存储在本地的~/.git-credentials文件中。\n但如果您想要更高的安全性可以选择：\ngit config --global credential.helper cache 也可以加上缓存超时时间：（不设置则默认是 15 分钟）：\ngit config --global credential.helper 'cache --timeout=设置秒数' 然后 Git 会把您的凭证存储在内存内，优点是安全性高，但缺点是超时或重启后就得重新输入。\n如果您不想关机重输，可以选择用libsecret加密保存凭证，安装方法：\nsudo apt-get install libsecret-1-0 libsecret-1-dev 然后设置：\ngit config --global credential.helper libsecret 测试是否设置成功可以用指令：\ngit config --global credential.helper 如果配置成功的话，应该输出libsecret。\n11.4. 【未完全解决】我的电脑挂起后抽风了…… 症状：挂起一段时间后重新打开电脑会闪烁一段时间的“认证失败”，然后无论输入什么密码都只会转圈，不能进入系统。\n如果您的电脑已经进入了这样的局面，可以用一下几种方式进行解决：\n进入 TTY 终端： 尝试按下Ctrl+Alt+F1~F6（不要把Ctrl+Alt键按着不放，每次都重新按一遍）\n只要有一个终端是好的（不是那种仍然在输出一堆错误导致您无法输入命令的），我们就可以进入系统。\n首先在这个好的终端内输入您的用户名和密码。\n然后依次运行：\nsudo apt install xinit startx 接下来可能桌面会有些怪怪的（反正我遇到的情况是这样的），但不管怎样您成功进入了系统。\n如果受不了这种风格您可以保存一下数据，然后点击右上角重启一下即可。\n如果所有 TTY 终端都被各种日志填满： 此时我们只能考虑暴力重启了。\n这里不建议用电源键强制关机，我们用另一种方式。\n大家都知道键盘上有一个按键叫做PrtSc（Print Screen，屏幕截图），其实有些键盘上还会在这个下面加一个SysRq（System Request，系统请求）的字样，所以这个按键大概跟系统有关系。\n而今天我们的这个方法就要用到这个按键。\n首先，左手按住Alt+PrtSc组合键（如果是笔记本键盘大概率没有单独的PrtSc按键，而是和功能键F1~F12合并，此时记得把Fn左上角的亮灯点掉），注意不要松开直到您做完下面的操作。\n然后右手依次按下s、u、b三个按键（最好中间间隔一段时间）。\n这三个按键的作用分别是同步磁盘、卸载磁盘、重启，前两个是为了防止数据损坏，最后一个就是重启。\n此时系统屏幕会突然一黑，然后出现No Boot Device（无引导设备）弹窗，不要惊慌，我们按下回车键。\n然后您就会进入 UEFI 固件设置界面，我们不管它，按下Esc键，回车退出并不保存设置。\n接下来您就会再次看到熟悉的双系统选择界面，直接进入 Ubuntu 系统即可。\n不过这样会导致您未保存的数据全部丢失，请注意。\n接下来编者会教大家如何预防这个问题。\n首先，最为简单的方式是安装laptop-mode-tools（笔记本电脑模式工具），安装方法：\nsudo apt update sudo apt install laptop-mode-tools 之后修改配置：\nsudo vim /etc/laptop-mode/laptop-mode.conf 修改一下这些设置：\nENABLE_LAPTOP_MODE_ON_BATTERY=1\rENABLE_LAPTOP_MODE_ON_AC=1\rENABLE_LAPTOP_MODE_WHEN_LID_CLOSED=1 此时大概率就可以解决了。\n但注意，这样会导致系统用于控制电源模式的软件power-profiles-daemon被卸载，右上角就无法控制当前电源模式是“节点”“平衡”还是“性能”了。\n如果您要保留这个控制电源模式的软件，可以用另一种方法。\n（这个方法笔者还没有验证过，就不说了，等验证有效后再写到这里）\n11.5. 【未完全解决】我进了一次 Windows 系统，然后回不去 Ubuntu 系统了…… 症状：进入 Windows 系统后再次重启结果双系统选择界面消失，无法进入 Ubuntu 系统。\n如果您的 Ubuntu 系统没有出什么 EFI 引导程序级别的问题，那么大概率是 Windows 把原本的引导程序覆盖了，导致您无法进入原本的引导界面。\n解决方法：\n在 Windows 系统下以管理员模式打开cmd（命令指示符），然后输入这个命令：\ndiskpart 此时就会进入 Windows 的 Microsoft DiskPart 磁盘管理工具的界面，我们输入：\nlist disk 列出您当前电脑的所有磁盘，找到您安装 Ubuntu 系统的磁盘，然后执行：\nselect disk 磁盘编号 注意，这个磁盘对应的是您电脑内部的硬盘，而不是您分出来的 C 盘、D 盘之类的，具体可以打开“磁盘管理”看看您安装 Ubuntu 系统的盘属于哪个硬盘。\n此时您安装 Ubuntu 的磁盘已经被选中了，然后列出所有里面的分盘：\nlist partition 然后找到“类型”一栏为“系统”的盘的编号（一般都是 0），或者打开“磁盘管理”看哪个盘的备注写的是“EFI 系统分区”，然后选中这个盘：\nselect partition 分盘编号 （如果不确定编号可以问 DeepSeek）\n选中后验证一下：\nassign letter=S exit 此时您就退出到了 Windows 原本的终端，然后输入：\ndir S:\\EFI\\ubuntu\\ 只要有：\ngrubx64.efi\rshimx64.efi\rgrub.cfg 三个文件，就说明您选对磁盘了，并且 Ubuntu 系统的引导文件完好。\n注意下面命令要在 Windows 原本的终端而不是 DiskPart 内运行。\n接下来，我们先修复一下引导配置：\nbcdedit /set {bootmgr} path \\EFI\\ubuntu\\grubx64.efi bcdedit /set {bootmgr} displayorder {current} /addfirst bcdedit /set {bootmgr} timeout 10 创建 Ubuntu 引导项：\nbcdedit /create /d \"Ubuntu\" /application osloader 然后系统会给你输出{xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}格式的一个 GUID，复制它，下面会用到。\n我们继续运行：\nbcdedit /set {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx} path \\EFI\\ubuntu\\grubx64.efi bcdedit /set {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx} device partition=S: bcdedit /displayorder {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx} /addlast 阻止 Windows 覆盖引导：\nattrib +S +H S:\\EFI\\Microsoft\\Boot\\bootmgfw.efi bcdedit /set {bootmgr} displaybootmenu yes 最后重启电脑，就可以看到双系统的选择界面了。\n不过这样会导致选择 Windows 系统的时候会让您再做一次选择，但这不太影响。\n11.6. 【未解决】为啥转到 Windows 系统后时区会出问题？ 笔者也不知道，反正手动同步一下时间就彳亍了。\n11.7. 【已解决】【开发者】为啥我把输出重定向到 NUL 结果还是会不断修改一个叫 NUL 的文件？ 显然 Linux 下并没有把“NUL”识别成“弃用输出”，替代的方法是把输出重定向到/dev/null。\n这个文件很特殊，如果读取它就会直接返回EOF（文件结尾标志），如果输出到它就会直接丢弃。\n11.8. 【已解决】我没磁盘空间了…… 此时可以打开左下角“显示应用”，点击“工具”文件夹，打开“磁盘占用分析器”应用。\n然后点击写着您的用户名的盘，下面路径应当是/，一般都排在第一个。\n接下来等一会儿就可以得到系统各个部分的占用空间了。\n此时可以不断点击占用最多的那个文件夹左边的“大于号”，就可以展开这个文件夹内部的空间占用情况了。\n不断往下找找到是哪个文件/文件夹占用最大，问 DeepSeek 如何安全删除/缩小空间即可。\nUbuntu 彩蛋合集 Ubuntu 作为一个开源的系统，其开发者会通过“无厘头的设计”缓解技术工具的严肃性，体现了开源社区的趣味性。\n所以在最后，请允许我向您说一些 Ubuntu 内的彩蛋。\n（下面彩蛋解析均粘贴自 DeepSeek 的回答，并由编者进行了小修改）\n1. 本 APT 具有超级牛力 这是APT包管理器（特别是apt-get命令）中一个著名的复活节彩蛋（Easter Egg），其英文原文为：\n“This APT has Super Cow Powers.”\n以下是关于该彩蛋的完整解析：\n彩蛋的核心内容 触发方式\n运行 apt-get --help 时，帮助文本末尾会显示：\nThis APT has Super Cow Powers.（本APT具有超级牛力）。 运行 apt-get moo 会显示一头ASCII艺术奶牛和提示语： (__) (oo) /------\\/ / | || * /\\---/\\ ~~ ~~ ...\"Have you mooed today?\"... 彩蛋含义\n“超级牛力” 是开发者对APT强大功能的幽默比喻，灵感源于早期开发者Jason Gunthorpe在IRC上以“Moo”打招呼的习惯，逐渐演变为社区文化。 奶牛形象可能源自经典命令行工具 cowsay（可用奶牛显示任意文本）。 彩蛋的起源与含义 历史来源\n由APT核心开发者 Jason Gunthorpe 于2001年（APT 0.5.0版本）添加，源于开发者社区内部关于“奶牛”的玩笑。 邮件列表记录显示，该彩蛋是对早期Unix文化中 cowsay 工具的致敬。 文化意义\n开源幽默：通过无厘头的设计缓解技术工具的严肃性，体现开源社区的趣味性。 社区梗：aptitude 的“蛇吞象”彩蛋引用《小王子》，进一步拓展了“超级牛力”的叙事。 2. aptitude 的层级式彩蛋 首先安装一下aptitude： sudo apt install aptitude 运行 aptitude moo 会显示：\nThere are no Easter Eggs in this program.（本程序无复活节彩蛋）。 但持续增加 -v 参数会触发隐藏对话： aptitude -v moo # → “本程序中确实没有复活节彩蛋。” aptitude -vv moo # → “我不是告诉过您没有彩蛋了吗？” aptitude -vvv moo # → “停下！” aptitude -vvvv moo # → “好吧，如果我给您彩蛋，您会离开吗？” aptitude -vvvvv moo # → 显示大象被蛇吞食的ASCII画（致敬《小王子》）。 此处调侃 aptitude “没有超级牛力”，实则是更复杂的彩蛋。 来源：开发者对用户执着追问的幽默回应，灵感源自圣埃克苏佩里的文学作品。 3. cowsay \u0026 xcowsay（会说话的牛） 触发命令： sudo apt install cowsay xcowsay # 安装 cowsay \"Hello Ubuntu!\" # 终端牛说话 xcowsay \"图形界面的牛！\" # 弹出窗口牛 扩展玩法： fortune | cowsay # 牛说随机名言 cowsay -f stegosaurus \"恐龙版\" # 切换角色（支持龙、幽灵等） 来源：源自早期 LISP 编写的 cowsay 工具，后成为终端恶搞标配。 4. sl（蒸汽火车） 触发命令： sudo apt install sl sl # 火车从左向右驶过终端 sl -h # 隐藏彩蛋：显示帮助信息中的调侃 设计意图：专治手误输入 sl 代替 ls 的用户，用幽默缓解挫败感。 5. fortune（毒鸡汤生成器） 触发命令： sudo apt install fortune fortune-zh # 安装中英文库 fortune # 随机英文名言/笑话 fortune-zh # 唐诗宋词/中文段子 进阶组合： fortune | lolcat # 彩虹色输出（需安装 lolcat） 6. hollywood（伪装黑客） 触发命令： sudo apt install hollywood byobu hollywood # 分屏显示代码滚动、系统监控等“装忙”界面 来源：Ubuntu 开发者 Dustin Kirkland 在长途航班中创作，用于“假装日理万机”。 7. GNOME 桌面隐藏命令 触发方式：\nAlt+F2 打开运行窗口，输入以下命令： gegls from outer space → 弹出 丑陋的牛和鱼 的 ASCII 画 free the fish → 桌面出现游动的鱼（点击可关闭） 来源：GEGL 是 GIMP 的图像处理库，彩蛋调侃其早期版本渲染效果。 8. oneko（追鼠标的猫） 触发命令： sudo apt install oneko oneko # 小猫追随鼠标，不动时睡觉 限制：仅支持 X11 桌面环境，Wayland 下失效。 9. sudo 嘲讽模式 触发配置： sudo visudo # 编辑文件 在 \"Defaults\" 行后添加 `Defaults insults` # 启用嘲讽 效果：输错密码时返回毒舌回复（例如 “煎饼脑子，我没时间听你胡说！”）。 10. cal 的诡异月份 触发命令： cal 9 1752 # 显示 1752 年 9 月（缺少 11 天） 历史背景：1752 年英国切换历法，删除了 9 月 3–13 日。 总结 提示：部分彩蛋（如 oneko）依赖 X11 图形服务器，在 Ubuntu 24.04 默认的 Wayland 下可能失效，可尝试在登录界面切换为 “Ubuntu on Xorg”。\n这些彩蛋用幽默彩蛋缓解命令行工具的冰冷感，成为Debian/Ubuntu社区的经典文化符号。同时也体现了 Linux 社区“严谨中藏趣味”的文化——它们虽无实际用途，却在枯燥的命令行中埋下了令人会心一笑的惊喜，成为技术文化中独特的“数字遗产”。\n",
  "wordCount" : "1723",
  "inLanguage": "zh",
  "datePublished": "2025-08-18T09:51:00+08:00",
  "dateModified": "2025-08-18T09:51:00+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://qjwh.github.io/posts/play/ubuntu2404_dsys/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CXBlog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://qjwh.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://qjwh.github.io/" accesskey="h" title="CXBlog (Alt + H)">CXBlog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://qjwh.github.io/posts/" title="文章">
                    <span>文章</span>
                </a>
            </li>
            <li>
                <a href="https://qjwh.github.io/archives/" title="列表">
                    <span>列表</span>
                </a>
            </li>
            <li>
                <a href="https://qjwh.github.io/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://qjwh.github.io/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      【娱乐】Ubuntu 24.04 双系统安装&amp;基本配置全过程保姆级教程
    </h1>
    <div class="post-meta"><span title='2025-08-18 09:51:00 +0800 CST'>2025/08/18 09:51:00</span>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%89%8d%e8%a8%80" aria-label="前言">前言</a></li>
                <li>
                    <a href="#%e5%87%86%e5%a4%87" aria-label="准备">准备</a><ul>
                        
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e6%a3%80%e6%9f%a5" aria-label="配置检查">配置检查</a></li>
                <li>
                    <a href="#%e5%ad%98%e5%82%a8%e5%87%86%e5%a4%87" aria-label="存储准备">存储准备</a></li>
                <li>
                    <a href="#%e9%95%9c%e5%83%8f%e5%87%86%e5%a4%87" aria-label="镜像准备">镜像准备</a></li>
                <li>
                    <a href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" aria-label="注意事项">注意事项</a></li></ul>
                </li>
                <li>
                    <a href="#ubuntu%e5%90%af%e5%8a%a8" aria-label="Ubuntu，启动！">Ubuntu，启动！</a><ul>
                        
                <li>
                    <a href="#%e5%85%b3%e9%97%ad%e5%bf%ab%e9%80%9f%e5%90%af%e5%8a%a8" aria-label="关闭快速启动">关闭快速启动</a></li>
                <li>
                    <a href="#%e5%bc%80%e5%a7%8b%e5%ae%89%e8%a3%85" aria-label="开始安装！">开始安装！</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%80%e9%80%9a%e9%85%8d%e7%bd%ae" aria-label="一通配置">一通配置</a><ul>
                        
                <li>
                    <a href="#%e7%86%9f%e6%82%89%e4%b8%80%e4%b8%8b%e7%95%8c%e9%9d%a2%e5%92%8c%e5%9f%ba%e6%9c%ac%e9%94%ae%e7%9b%98%e6%93%8d%e4%bd%9c" aria-label="熟悉一下界面和基本键盘操作">熟悉一下界面和基本键盘操作</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85%e8%bd%af%e4%bb%b6%e7%96%91%e9%9a%be%e8%a7%a3%e7%ad%94" aria-label="安装软件&amp;疑难解答">安装软件&amp;疑难解答</a><ul>
                        
                <li>
                    <a href="#1-%e5%9f%ba%e7%a1%80%e7%bb%88%e7%ab%af%e5%91%bd%e4%bb%a4" aria-label="1. 基础终端命令">1. 基础终端命令</a></li>
                <li>
                    <a href="#2-%e8%bd%af%e4%bb%b6%e6%8d%a2%e6%ba%90" aria-label="2. 软件换源">2. 软件换源</a><ul>
                        
                <li>
                    <a href="#21-%e7%a1%ae%e5%ae%9a%e6%96%b0%e6%97%a7%e7%89%88" aria-label="2.1. 确定新旧版">2.1. 确定新旧版</a></li>
                <li>
                    <a href="#22-%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae" aria-label="2.2. 修改配置">2.2. 修改配置</a></li></ul>
                </li>
                <li>
                    <a href="#3-vim" aria-label="3. Vim">3. Vim</a></li>
                <li>
                    <a href="#4-%e8%be%93%e5%85%a5%e6%b3%95" aria-label="4. 输入法">4. 输入法</a><ul>
                        
                <li>
                    <a href="#41-%e4%b8%8b%e8%bd%bd" aria-label="4.1. 下载">4.1. 下载</a></li>
                <li>
                    <a href="#42-%e8%ae%be%e7%bd%ae" aria-label="4.2. 设置">4.2. 设置</a></li>
                <li>
                    <a href="#43-%e5%ae%89%e8%a3%85" aria-label="4.3. 安装">4.3. 安装</a></li>
                <li>
                    <a href="#44-%e6%b5%8b%e8%af%95" aria-label="4.4. 测试">4.4. 测试</a></li></ul>
                </li>
                <li>
                    <a href="#5-%e8%be%93%e5%85%a5%e6%b3%95---%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86" aria-label="5. 输入法 - 异常处理">5. 输入法 - 异常处理</a><ul>
                        
                <li>
                    <a href="#51-text-stylecolorgreen%e5%b7%b2%e8%a7%a3%e5%86%b3text%e5%bc%80%e6%9c%ba%e6%b2%a1%e6%9c%89%e7%9c%8b%e5%88%b0%e8%be%93%e5%85%a5%e6%b3%95" aria-label="5.1. 【已解决】开机没有看到输入法？">5.1. 【已解决】开机没有看到输入法？</a></li>
                <li>
                    <a href="#52-text-stylecolorgreen%e5%b7%b2%e8%a7%a3%e5%86%b3text%e6%88%91%e7%9a%84%e6%90%9c%e7%8b%97%e7%8a%b6%e6%80%81%e6%a0%8f%e5%bc%80%e5%a7%8b%e9%97%aa%e7%83%81%e6%8a%bd%e9%a3%8e%e4%ba%86" aria-label="5.2. 【已解决】我的搜狗状态栏开始闪烁抽风了">5.2. 【已解决】我的搜狗状态栏开始闪烁抽风了</a></li></ul>
                </li>
                <li>
                    <a href="#6-%e5%9c%a8-ubuntu-%e7%b3%bb%e7%bb%9f%e6%89%93%e5%bc%80%e5%85%b6%e4%bb%96%e7%9b%98" aria-label="6. 在 Ubuntu 系统打开其他盘">6. 在 Ubuntu 系统打开其他盘</a></li>
                <li>
                    <a href="#7-%e5%9c%a8-ubuntu-%e7%b3%bb%e7%bb%9f%e6%89%93%e5%bc%80%e5%85%b6%e4%bb%96%e7%9b%98---%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86" aria-label="7. 在 Ubuntu 系统打开其他盘 - 异常处理">7. 在 Ubuntu 系统打开其他盘 - 异常处理</a><ul>
                        
                <li>
                    <a href="#71-text-stylecolorgreen%e5%b7%b2%e8%a7%a3%e5%86%b3text%e6%88%91%e5%9c%a8-windows-%e4%b8%8b%e8%83%bd%e5%a4%9f%e6%89%93%e5%bc%80%e6%88%91%e7%9a%84%e7%9b%98%e4%bd%86-ubuntu-%e4%b8%8b%e6%8f%90%e7%a4%ba%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e5%b7%b2%e6%8d%9f%e5%9d%8f%e4%b9%8b%e7%b1%bb%e7%9a%84%e9%94%99%e8%af%af" aria-label="7.1. 【已解决】我在 Windows 下能够打开我的盘，但 Ubuntu 下提示“文件系统已损坏”之类的错误">7.1. 【已解决】我在 Windows 下能够打开我的盘，但 Ubuntu 下提示“文件系统已损坏”之类的错误</a></li>
                <li>
                    <a href="#72-text-stylecolorgreen%e5%b7%b2%e8%a7%a3%e5%86%b3text%e4%bb%8d%e7%84%b6%e6%97%a0%e6%b3%95%e8%a7%a3%e5%86%b3%e9%97%ae%e9%a2%98" aria-label="7.2. 【已解决】仍然无法解决问题">7.2. 【已解决】仍然无法解决问题</a></li></ul>
                </li>
                <li>
                    <a href="#8-%e5%ae%89%e8%a3%85-vmware" aria-label="8. 安装 VMware">8. 安装 VMware</a><ul>
                        
                <li>
                    <a href="#81-%e4%b8%8b%e8%bd%bd" aria-label="8.1. 下载">8.1. 下载</a></li>
                <li>
                    <a href="#82-%e5%ae%89%e8%a3%85" aria-label="8.2. 安装">8.2. 安装</a></li></ul>
                </li>
                <li>
                    <a href="#9-%e5%ae%89%e8%a3%85-vmware---%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86" aria-label="9. 安装 VMware - 异常处理">9. 安装 VMware - 异常处理</a><ul>
                        
                <li>
                    <a href="#91-text-stylecolorgreen%e5%b7%b2%e8%a7%a3%e5%86%b3text%e8%bf%9b%e4%b8%8d%e5%8e%bb-vmware%e4%b8%80%e7%9b%b4%e6%8a%a5%e9%94%99%e4%b8%80%e4%ba%9b%e6%a8%a1%e5%9d%97%e9%9c%80%e8%a6%81%e5%ae%89%e8%a3%85%e5%88%b0%e5%86%85%e6%a0%b8%e5%86%85%e7%82%b9%e5%87%bb%e5%ae%89%e8%a3%85%e5%90%8e%e5%8f%88%e6%8a%a5%e9%94%99%e5%bb%ba%e7%ab%8b%e7%8e%af%e5%a2%83%e5%a4%b1%e8%b4%a5%e4%b8%80%e4%b8%aa%e9%9c%80%e8%a6%81%e7%9a%84%e5%bc%95%e7%94%a8%e7%bc%ba%e5%a4%b1" aria-label="9.1. 【已解决】进不去 VMware，一直报错“一些模块需要安装到内核内”，点击“安装”后又报错“建立环境失败，一个需要的引用缺失”">9.1. 【已解决】进不去 VMware，一直报错“一些模块需要安装到内核内”，点击“安装”后又报错“建立环境失败，一个需要的引用缺失”</a></li>
                <li>
                    <a href="#92-text-stylecolorred%e6%9c%aa%e8%a7%a3%e5%86%b3text%e8%bf%99-vmware-%e7%9a%84%e7%95%8c%e9%9d%a2%e5%92%8b%e6%98%af%e8%8b%b1%e6%96%87%e7%9a%84" aria-label="9.2. 【未解决】这 VMware 的界面咋是英文的？">9.2. 【未解决】这 VMware 的界面咋是英文的？</a></li></ul>
                </li>
                <li>
                    <a href="#10-%e5%ae%89%e8%a3%85%e4%b8%80%e5%a0%86%e6%9d%82%e4%b8%83%e6%9d%82%e5%85%ab%e7%9a%84%e8%bd%af%e4%bb%b6" aria-label="10. 安装一堆杂七杂八的软件">10. 安装一堆杂七杂八的软件</a><ul>
                        
                <li>
                    <a href="#101-g-%e5%ae%89%e8%a3%85" aria-label="10.1. G&#43;&#43; 安装">10.1. G++ 安装</a></li>
                <li>
                    <a href="#102-git-%e5%ae%89%e8%a3%85" aria-label="10.2. Git 安装">10.2. Git 安装</a></li>
                <li>
                    <a href="#103-vscode-%e5%ae%89%e8%a3%85" aria-label="10.3. VSCode 安装">10.3. VSCode 安装</a></li>
                <li>
                    <a href="#104-qq-%e5%ae%89%e8%a3%85" aria-label="10.4. QQ 安装">10.4. QQ 安装</a></li>
                <li>
                    <a href="#105-%e5%be%ae%e4%bf%a1%e5%ae%89%e8%a3%85" aria-label="10.5. 微信安装">10.5. 微信安装</a></li>
                <li>
                    <a href="#106-lx-music-%e5%ae%89%e8%a3%85" aria-label="10.6. LX Music 安装">10.6. LX Music 安装</a></li>
                <li>
                    <a href="#107-wps-office-%e5%ae%89%e8%a3%85" aria-label="10.7. WPS Office 安装">10.7. WPS Office 安装</a></li>
                <li>
                    <a href="#108-npm-%e5%ae%89%e8%a3%85" aria-label="10.8. NPM 安装">10.8. NPM 安装</a></li>
                <li>
                    <a href="#109-rpm-%e5%ae%89%e8%a3%85" aria-label="10.9. RPM 安装">10.9. RPM 安装</a></li>
                <li>
                    <a href="#1010-%e5%ae%89%e8%a3%85%e5%ad%97%e4%bd%93" aria-label="10.10. 安装字体">10.10. 安装字体</a></li></ul>
                </li>
                <li>
                    <a href="#11-%e4%b8%80%e5%a0%86%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86" aria-label="11. 一堆异常处理">11. 一堆异常处理</a><ul>
                        
                <li>
                    <a href="#111-text-stylecolorgreen%e5%b7%b2%e8%a7%a3%e5%86%b3text%e6%88%91%e7%9a%84%e6%96%87%e4%bb%b6%e8%b5%84%e6%ba%90%e7%ae%a1%e7%90%86%e5%99%a8%e4%b8%ba%e5%95%a5%e5%8f%b3%e4%b8%8a%e8%a7%92%e4%bc%9a%e6%9c%89%e4%b8%aa%e8%a7%92%e6%a0%87" aria-label="11.1. 【已解决】我的文件资源管理器为啥右上角会有个角标？">11.1. 【已解决】我的文件资源管理器为啥右上角会有个角标？</a></li>
                <li>
                    <a href="#112-text-stylecolorgreen%e5%b7%b2%e8%a7%a3%e5%86%b3text%e6%88%91%e7%9a%84%e7%94%b5%e8%84%91%e4%b8%ba%e5%95%a5%e5%85%b3%e6%9c%ba%e8%bf%99%e4%b9%88%e6%85%a2" aria-label="11.2. 【已解决】我的电脑为啥关机这么慢">11.2. 【已解决】我的电脑为啥关机这么慢</a></li>
                <li>
                    <a href="#113-text-stylecolorgreen%e5%b7%b2%e8%a7%a3%e5%86%b3text%e4%b8%ba%e5%95%a5%e6%88%91%e7%9a%84-git-%e4%b8%8d%e8%ae%b0%e6%88%91%e7%9a%84%e8%b4%a6%e5%8f%b7%e5%af%86%e7%a0%81%e6%af%8f%e6%ac%a1%e9%83%bd%e5%be%97%e9%87%8d%e8%be%93" aria-label="11.3. 【已解决】为啥我的 Git 不记我的账号密码？每次都得重输">11.3. 【已解决】为啥我的 Git 不记我的账号密码？每次都得重输</a></li>
                <li>
                    <a href="#114-text-stylecoloryellow%e6%9c%aa%e5%ae%8c%e5%85%a8%e8%a7%a3%e5%86%b3text%e6%88%91%e7%9a%84%e7%94%b5%e8%84%91%e6%8c%82%e8%b5%b7%e5%90%8e%e6%8a%bd%e9%a3%8e%e4%ba%86" aria-label="11.4. 【未完全解决】我的电脑挂起后抽风了……">11.4. 【未完全解决】我的电脑挂起后抽风了……</a></li>
                <li>
                    <a href="#115-text-stylecoloryellow%e6%9c%aa%e5%ae%8c%e5%85%a8%e8%a7%a3%e5%86%b3text%e6%88%91%e8%bf%9b%e4%ba%86%e4%b8%80%e6%ac%a1-windows-%e7%b3%bb%e7%bb%9f%e7%84%b6%e5%90%8e%e5%9b%9e%e4%b8%8d%e5%8e%bb-ubuntu-%e7%b3%bb%e7%bb%9f%e4%ba%86" aria-label="11.5. 【未完全解决】我进了一次 Windows 系统，然后回不去 Ubuntu 系统了……">11.5. 【未完全解决】我进了一次 Windows 系统，然后回不去 Ubuntu 系统了……</a></li>
                <li>
                    <a href="#116-text-stylecolorred%e6%9c%aa%e8%a7%a3%e5%86%b3text%e4%b8%ba%e5%95%a5%e8%bd%ac%e5%88%b0-windows-%e7%b3%bb%e7%bb%9f%e5%90%8e%e6%97%b6%e5%8c%ba%e4%bc%9a%e5%87%ba%e9%97%ae%e9%a2%98" aria-label="11.6. 【未解决】为啥转到 Windows 系统后时区会出问题？">11.6. 【未解决】为啥转到 Windows 系统后时区会出问题？</a></li>
                <li>
                    <a href="#117-text-stylecolorgreen%e5%b7%b2%e8%a7%a3%e5%86%b3texttext-stylecolorpurple%e5%bc%80%e5%8f%91%e8%80%85text%e4%b8%ba%e5%95%a5%e6%88%91%e6%8a%8a%e8%be%93%e5%87%ba%e9%87%8d%e5%ae%9a%e5%90%91%e5%88%b0-nul-%e7%bb%93%e6%9e%9c%e8%bf%98%e6%98%af%e4%bc%9a%e4%b8%8d%e6%96%ad%e4%bf%ae%e6%94%b9%e4%b8%80%e4%b8%aa%e5%8f%ab-nul-%e7%9a%84%e6%96%87%e4%bb%b6" aria-label="11.7. 【已解决】【开发者】为啥我把输出重定向到 NUL 结果还是会不断修改一个叫 NUL 的文件？">11.7. 【已解决】【开发者】为啥我把输出重定向到 NUL 结果还是会不断修改一个叫 NUL 的文件？</a></li>
                <li>
                    <a href="#118-text-stylecolorgreen%e5%b7%b2%e8%a7%a3%e5%86%b3text%e6%88%91%e6%b2%a1%e7%a3%81%e7%9b%98%e7%a9%ba%e9%97%b4%e4%ba%86" aria-label="11.8. 【已解决】我没磁盘空间了……">11.8. 【已解决】我没磁盘空间了……</a></li></ul>
                </li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#ubuntu-%e5%bd%a9%e8%9b%8b%e5%90%88%e9%9b%86" aria-label="Ubuntu 彩蛋合集">Ubuntu 彩蛋合集</a><ul>
                        
                <li>
                    <a href="#1-%e6%9c%ac-apt-%e5%85%b7%e6%9c%89%e8%b6%85%e7%ba%a7%e7%89%9b%e5%8a%9b" aria-label="1. 本 APT 具有超级牛力">1. 本 APT 具有超级牛力</a><ul>
                        
                <li>
                    <a href="#%e5%bd%a9%e8%9b%8b%e7%9a%84%e6%a0%b8%e5%bf%83%e5%86%85%e5%ae%b9" aria-label="彩蛋的核心内容">彩蛋的核心内容</a></li>
                <li>
                    <a href="#%e5%bd%a9%e8%9b%8b%e7%9a%84%e8%b5%b7%e6%ba%90%e4%b8%8e%e5%90%ab%e4%b9%89" aria-label="彩蛋的起源与含义">彩蛋的起源与含义</a></li></ul>
                </li>
                <li>
                    <a href="#2-aptitude-%e7%9a%84%e5%b1%82%e7%ba%a7%e5%bc%8f%e5%bd%a9%e8%9b%8b" aria-label="2. aptitude 的层级式彩蛋">2. aptitude 的层级式彩蛋</a></li>
                <li>
                    <a href="#3-cowsay--xcowsay%e4%bc%9a%e8%af%b4%e8%af%9d%e7%9a%84%e7%89%9b" aria-label="3. cowsay &amp; xcowsay（会说话的牛）">3. cowsay &amp; xcowsay（会说话的牛）</a></li>
                <li>
                    <a href="#4-sl%e8%92%b8%e6%b1%bd%e7%81%ab%e8%bd%a6" aria-label="4. sl（蒸汽火车）">4. sl（蒸汽火车）</a></li>
                <li>
                    <a href="#5-fortune%e6%af%92%e9%b8%a1%e6%b1%a4%e7%94%9f%e6%88%90%e5%99%a8" aria-label="5. fortune（毒鸡汤生成器）">5. fortune（毒鸡汤生成器）</a></li>
                <li>
                    <a href="#6-hollywood%e4%bc%aa%e8%a3%85%e9%bb%91%e5%ae%a2" aria-label="6. hollywood（伪装黑客）">6. hollywood（伪装黑客）</a></li>
                <li>
                    <a href="#7-gnome-%e6%a1%8c%e9%9d%a2%e9%9a%90%e8%97%8f%e5%91%bd%e4%bb%a4" aria-label="7. GNOME 桌面隐藏命令">7. GNOME 桌面隐藏命令</a></li>
                <li>
                    <a href="#8-oneko%e8%bf%bd%e9%bc%a0%e6%a0%87%e7%9a%84%e7%8c%ab" aria-label="8. oneko（追鼠标的猫）">8. oneko（追鼠标的猫）</a></li>
                <li>
                    <a href="#9-sudo-%e5%98%b2%e8%ae%bd%e6%a8%a1%e5%bc%8f" aria-label="9. sudo 嘲讽模式">9. sudo 嘲讽模式</a></li>
                <li>
                    <a href="#10-cal-%e7%9a%84%e8%af%a1%e5%bc%82%e6%9c%88%e4%bb%bd" aria-label="10. cal 的诡异月份">10. cal 的诡异月份</a></li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93" aria-label="总结">总结</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>文章非常长，有问题或安装的时候出现异常及时在评论区发一下。</p>
<h1 id="前言">前言<a hidden class="anchor" aria-hidden="true" href="#前言">#</a></h1>
<p>开始之前先说两个概念，就是 Ubuntu 是基于 Linux 内核开发的操作系统发行版‌，相当于 Ubuntu 就是在 Linux 这个开源内核基础上包裹了一个“外壳”。一般 Ubuntu 在中文中念做“乌班图”“吾帮托”“吾帮图”之类的，可以按照您的喜好选择。</p>
<p>首先，我们大费周章地搞一个双系统，必然是有其原因的。</p>
<p>我选择 Ubuntu 的原因主要有几个：</p>
<ul>
<li><strong>安全</strong>：Ubuntu 系统完全是开源的（系统源代码向所有人开放），所以相较于其他系统不会有后门之类的东西。</li>
<li><strong>简洁</strong>：Ubuntu 的自带程序极其少，以其目前最新版 Ubuntu 24.04 为例，安装完毕后系统的总 CPU 占用率不到 1%，内存占用不超过 4 GB，所以这就带来了很多好处。</li>
<li><strong>节能</strong>：其对于电量的消耗极少，尤其是在开了节能模式的情况下；而且其配置要求极低，与 Windows 10 差不多（但稍高一些，具体可以看下面正文），基本上老电脑都能跑得动，<del>但如果您的电脑 Windows 10 都跑不动建议换新电脑</del>。</li>
<li><strong>美观</strong>：如果您看惯了 Windows 10 的 UI 界面，您可以试一下 Ubuntu 的 GNOME 界面，动画效果齐全，但比 Windows 11 耗能少得多，笔者个人认为这个界面已经足以和 Windows 11 媲美了。</li>
<li><strong>快速</strong>：笔者实测在 Linux 下很多程序都运行得比 Windows 下快得多，甚至有些能够达到 2 秒和不到 1 毫秒的差别（1000 毫秒为 1 秒）。</li>
<li><del>当然还有为了装b</del></li>
</ul>
<p>甚至安装之后系统还支持 Windows 下的 FAT32、exFAT、NTFS 等文件系统（Linux 的文件系统默认是 ext4），所以您完全可以在您的 Ubuntu 下打开您原本的 C 盘、D 盘等，当然还有您的所有外接存储设备。</p>
<p>但安装 Ubuntu 后您可能会不太适应，这里说几点主要的差别：</p>
<ol>
<li>部分软件（尤其是小众的）可能<strong>并不适配 Linux</strong>（如果适配的话，一般在官网上会有一个企鹅的图标，或者 Ubuntu 的“三点共圆”图标），或者适配不齐全，如果您必须需要这个软件，可以考虑用<code>wine</code>或者<code>bottles</code>，但笔者没配成功，教程只能咕咕咕了。</li>
<li>如果您下载了一个<code>.exe</code>的安装包，或者运行了您原本 Windows 环境下安装的<code>.exe</code>可执行文件，那么恭喜你，Linux 没法运行，在 Linux 下<strong>可执行文件默认是没有后缀名的</strong>，而且 Linux 下的安装包一般是<strong>以<code>.deb</code>或<code>.rpm</code>结尾</strong>（尽量下载前者，后者 Ubuntu 原生不支持，需要安装额外软件）。</li>
<li>Linux 下没有什么 C 盘、D 盘，<strong>所有的文件都存储在根目录<code>/</code>之下</strong>，<del>所以就有了系统自毁命令<code>sudo rm -rf /</code></del>。</li>
<li>Linux 下“使用管理员权限运行”是<strong>在终端命令前面加上一个<code>sudo</code></strong>，比如<code>sudo apt update</code>，之后会让您输入您的密码，注意在 Linux 终端内输入密码是<strong>不显示</strong>的，如果认为输错了可以直接长按<code>Backspace</code>然后重输。</li>
<li>替代第 4 条的一个偷懒的方案是输入：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo su -
</span></span></code></pre></div>命令，输入密码之后您的终端就会变为<code>root</code>模式（根用户模式，相当于管理员），之后所有的命令都相当于是在前面加了个<code>sudo</code>；如果想要退出可以输入：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span></code></pre></div>然后就可以变为普通模式了。</li>
<li>安全方面的提醒：Linux 不同于 Windows，Windows 下如果获得管理员权限干的事情也有限（至少不至于把您的系统干掉），因为 Windows 有系统文件保护机制（<a href="https://baike.baidu.com/item/windows%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4/9772006">WFP</a>）；但 Linux 下只要获得了<code>root</code>权限，就可以干任何事情，包括直接把您系统和数据一并干掉（就是上面那个自毁命令），所以一定注意密码安全。</li>
<li>如果您使用终端，那么运行程序的时候要在前面加一个<code>./</code>，比如您要运行程序<code>test</code>，就要在终端内<code>cd</code>到当前目录（<strong>不要加<code>/d</code>选项</strong>，原因见第 3 条），然后输入<code>./test</code>运行。</li>
<li>注意 Linux 系统下是没有 Windows 键的（废话），因为这个按键在 Linux 内被叫做“Super”，但其部分功能是一样的，比如<code>Super+L</code>锁屏等，具体下面会有介绍。</li>
<li>&hellip;</li>
</ol>
<p>现在您已经基本知道 Ubuntu 系统的优势和其与 Windows 的差别了，现在我们开始准备安装。</p>
<h1 id="准备">准备<a hidden class="anchor" aria-hidden="true" href="#准备">#</a></h1>
<h2 id="配置检查">配置检查<a hidden class="anchor" aria-hidden="true" href="#配置检查">#</a></h2>
<p>Ubuntu 24.04 的最低配置要求：</p>
<ul>
<li>2 GHz 双核处理器（推荐至少 4 核）</li>
<li>4 GB 内存（推荐 8 GB 及以上）</li>
<li>25 GB 存储空间（推荐分配 50 GB）</li>
</ul>
<p>是的，没有其他要求了，不用什么 TPM 2.0，不用什么 DirectX。</p>
<p>注意，您安装双系统之后，您安装的 Ubuntu 用的是您的<strong>所有</strong> CPU、内存等资源，不是跟虚拟机一样您给它分配一部分。</p>
<p>关于存储空间，笔者配完所有的下面步骤之后刚好用了 <strong>25 GB</strong>，如果想要轻度办公<strong>只用 40 GB 即可</strong>，如果想要作为主力机的话建议 <strong>50 GB 起步</strong>。</p>
<p>注意双系统不是虚拟机，不是 WSL，不是您想要让它装在哪个盘就装在哪个盘的，您必须要提前分出来这么多空间的一个<strong>单独</strong>的盘，然后系统安装器会把您指定的那个盘<strong>格式化</strong>再继续安装。</p>
<p>注意您在安装的时候还要在您指定的盘内分配<strong>至少 2.2 GB 空间</strong>（应该固定是这个值）给 Windows Boot Manager（Windows 启动管理器），不然您就进不去您原来的 Windows 了。</p>
<p>具体信息会在下面安装过程中说到。</p>
<h2 id="存储准备">存储准备<a hidden class="anchor" aria-hidden="true" href="#存储准备">#</a></h2>
<p>检查了您符合这个最低要求之后，您就可以为 Ubuntu 分配空间了。</p>
<p>（操作基本都很无脑，这部分不配图了）</p>
<p>显然正常电脑都不可能一开始就给您几十个 GB 的空盘，所以我们就要从一个盘中压缩空间给 Ubuntu 系统。</p>
<ol>
<li>首先按下 Win+X 组合键（或者右键左下角 Windows 图标），在弹出菜单中选择“磁盘管理”。</li>
<li>等待界面加载出来后，右键点击您想要压缩的盘，在菜单选择“压缩卷”，按照向导输入您想要压缩的空间大小（注意是以 MB 为单位，不是 GB），然后一路下一步即可。</li>
<li>注意一定要给您的硬盘分配足够的多余空间，比如 40 GB 就要至少剩余 45 GB 之类的。</li>
<li>接下来在您压缩的盘右边会出现一个顶部是黑色的盘，我们右键它，点击“新建简单卷”，然后按照向导走即可。</li>
</ol>
<p>您压缩出来的黑色盘变为深蓝色（跟您的其他盘一个颜色）就成功了。</p>
<h2 id="镜像准备">镜像准备<a hidden class="anchor" aria-hidden="true" href="#镜像准备">#</a></h2>
<p>首先要准备一个有<strong>至少 8 GB 容量</strong>的 U 盘，用于烧录我们的<code>.iso</code>系统镜像文件（相当于系统的安装包）。</p>
<p>这里不建议各位从 Ubuntu 官网下载镜像文件，因为官网需要科学上网，还比较慢，所以这里推荐几个镜像站：</p>
<ul>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/">清华镜像站</a></li>
<li><a href="https://mirrors.aliyun.com/ubuntu-releases/">阿里云镜像站</a></li>
</ul>
<p>下载直链：（链接指向的是笔者编写时的最新版本 Ubuntu 24.04.3，大小 5.9 GB）</p>
<ul>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/24.04.3/ubuntu-24.04.3-desktop-amd64.iso">清华镜像站</a></li>
<li><a href="https://mirrors.aliyun.com/ubuntu-releases/24.04.3/ubuntu-24.04.3-desktop-amd64.iso">阿里云镜像站</a></li>
</ul>
<p>下载完成之后，我们准备一个用于烧录镜像文件到 U 盘内的软件，这里推荐用 Rufus，官网<a href="https://rufus.ie/zh/">点这里</a>。</p>
<p>官网默认下载用的是 Github，如果上不去可以用<a href="https://ghproxy.net/https://github.com/pbatard/rufus/releases/download/v4.9/rufus-4.9.exe">镜像链接</a>（指向笔者编写时的最新版 4.9）。</p>
<p>下载后直接打开（这不是安装包），界面大概长这样：</p>
<img src="https://i-blog.csdnimg.cn/direct/68df0615ab4f40db8930cb663d84c095.png" width=50% alt="图片源自网络">
<p>点击“引导类型选择”右边的“选择”按钮，选中您下载的<code>.iso</code>镜像文件，其他设置保持默认即可，然后点击最下面的“开始”。</p>
<p>注意开始之前一定<strong>做好数据备份</strong>，因为这一步会直接格式化您的 U 盘。</p>
<p>此时软件会直接开始把镜像文件烧录到您的 U 盘，这一步的时长和您 U 盘传输速率有关系，此时您可以离开电脑休息一下。</p>
<p>完成后点击“关闭”即可。</p>
<p>此时，这个 U 盘就不是一个普通的 U 盘了，而是 <strong>Ubuntu 的启动盘</strong>（又称 <strong>Ubuntu Live USB</strong>）：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/857ebcb485274f3697bc5f308e250a8c.png"></p>
<h2 id="注意事项">注意事项<a hidden class="anchor" aria-hidden="true" href="#注意事项">#</a></h2>
<p>但在正式开始之前，先替大家避几个坑：</p>
<ul>
<li>首先，<strong>一定关闭 BitLocker</strong>，方法可以自行百度。</li>
<li>其次，双系统用户<strong>一定要关闭快速启动</strong>，方法：
<blockquote>
<p>打开控制面板，搜索并打开“电源选项”：</p>
<img src="https://webdoc.lenovo.com.cn/lenovowsi/new_cskb/uploadfile/20150721110412002.png" width=70% alt="图片源自网络">
<p>点击“选择电源按钮的功能”：</p>
<img src="https://webdoc.lenovo.com.cn/lenovowsi/new_cskb/uploadfile/20150721110412003.png" width=60% alt="图片源自网络">
<p>点击“更改当前不可用的设置”，最后关闭“启用快速启动”选项，并保存更改：</p>
<img src="https://webdoc.lenovo.com.cn/lenovowsi/new_cskb/uploadfile/20150721110412004.png" width=65% alt="图片源自网络">
<p>如果您的电脑没有这个选项，那么大概率是您的电脑不支持，这一步您就可以跳过了。</p></blockquote>
</li>
<li>还有，<strong>要关闭安全启动</strong>，方法在下一节里会提到。</li>
</ul>
<h1 id="ubuntu启动">Ubuntu，启动！<a hidden class="anchor" aria-hidden="true" href="#ubuntu启动">#</a></h1>
<p>经过一通准备，终于可以开始安装了。</p>
<h2 id="关闭快速启动">关闭快速启动<a hidden class="anchor" aria-hidden="true" href="#关闭快速启动">#</a></h2>
<p>打开系统设置，进入“系统”选项卡的“恢复”选项（Windows 11 操作方法，Windows 10 用户可以直接搜索设置），然后点击“高级启动”右边的“立即重新启动”。</p>
<p>然后依次转到“疑难解答”、“高级选项”、“UEFI 固件设置”选项卡，在这里您要把安全启动（Secure Boot）的状态从“enabled”（启用）改为“disabled”（禁用），然后按“F10”保存并退出即可。</p>
<h2 id="开始安装">开始安装！<a hidden class="anchor" aria-hidden="true" href="#开始安装">#</a></h2>
<p>如果您已经确保您将安全启动关闭，则您可以直接在进入“高级启动”界面后点击“继续”下面的“使用设备”，然后系统就会自动重启。</p>
<p>请确保您此时已经将我们在前几步中烧录的 U 盘插入到电脑的 USB 接口中。此时如果您的电脑上只插了这一个 U 盘应该就可以直接进入 Ubuntu 安装界面，如果不是的话注意正确选择您烧录的 U 盘。</p>
<p>第一个界面选择<code>Try or Install Ubuntu</code>：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/b4f6d821db4643e98e642e6ef941504a.png"></p>
<p>语言选择<code>中文（简体）</code><del>（除非您想锻炼您的英语水平）</del>，键盘选择<code>汉语</code>（这是默认选项）：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/c3c9592cb776431b818a3b894cfa3ad5.png"></p>
<p>接下来会让你连接到互联网：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/1cab596b778f42eea69736bf6e631d96.png"></p>
<p>笔者在安装的时候没有联网，实测最终装的应用也基本够了，但如果您想要安装更完整的软件可以联网。</p>
<p>接下来选“安装 Ubuntu”：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/3743e4a095c0405d958e5aa2a93bccfe.png"></p>
<p>用“交互安装”模式：（谁也不知道“自动安装”会把您的电脑装成啥样）</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/b8bd4216cf1c455c89b786061ac95c9b.png"></p>
<p>接下来自行选择，建议“默认集合”：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/08b9dbb7c4e84c7295b4280f85cd0cde.png"></p>
<p>也是自行选择，建议把图片中第一个选项勾选上：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/8355fa0a66964b64b34f245d336a2719.png"></p>
<p>接下来<strong>一定要选择第一个</strong>，选第二个您的 Windows 系统就没了，第三个有些复杂自行摸索：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/e066070056ee469895b9e8ba23459f17.png"></p>
<p>然后会让您选择安装硬盘，注意要选择您分配出的新的盘（一般都是编号最大的，比如我的电脑下就是<code>nvme0n1p9</code>），并分配部分空间给 Windows Boot Manager，这里建议直接把 Ubuntu 空间拉到最大。</p>
<p>接下来设置一下您的账户：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/55cd51dd234b4155b35e91de5df7fc4e.png"></p>
<p>设置时区：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/4166dcbf6e16412f89908c2c2a8dbdac.png"></p>
<p>然后 Ubuntu 就会开始安装了。</p>
<p>笔者实测不联网、选择默认集合、安装了所有可用的专有软件的情况下，<strong>安装只用了 5 分钟</strong>。</p>
<p>当您看到这个界面的时候，<strong>恭喜你，安装成功了！</strong></p>
<p><img alt="图片源自网络" loading="lazy" src="https://i-blog.csdnimg.cn/direct/274ee1defd6046ee9a262f5588d6b504.png"></p>
<p>点击“立即重启”，然后在这个界面：</p>
<p><img loading="lazy" src="/3.jpg"></p>
<p>您可以不做任何操作，系统会在 <strong>10 秒</strong>后自动选择高亮的 Ubuntu 选项并进入系统，或者按一下 Enter 也彳亍。</p>
<p>注：如果您想要进入 Windows 系统，可以通过上下方向键选择图片中的第 5 个选项，也就是“<strong>Windows Boot Manager</strong>”，就可以进入原本的 Windows 系统了。另外在选择系统界面<strong>按一下方向键</strong>就会取消原本的 10 秒倒计时。</p>
<p>在此时，<strong>您要拔掉您的启动盘</strong>，否则系统会提示“请移除您的启动设备（<strong>medium 是媒介、设备的意思</strong>），然后按下回车键继续”。</p>
<p>接下来当您看到一个橙色方框里面有您在安装过程中指定的用户名的时候，<strong>您就进入系统了！</strong></p>
<p>按下回车（或者点击您的用户卡片），输入密码，您就看到了最初 Ubuntu 系统的样子。</p>
<h1 id="一通配置">一通配置<a hidden class="anchor" aria-hidden="true" href="#一通配置">#</a></h1>
<p>（喜报：笔者初稿写到这里的时候已经狂肝 7k+ 字了，这里还要说一堆……）</p>
<h2 id="熟悉一下界面和基本键盘操作">熟悉一下界面和基本键盘操作<a hidden class="anchor" aria-hidden="true" href="#熟悉一下界面和基本键盘操作">#</a></h2>
<p>首先，Ubuntu 的<strong>任务栏在左边</strong>，<strong>菜单在右上角</strong>（里面有声音、亮度、WLAN、蓝牙等设置），<strong>所有您安装过的应用在点击左下角这个 Ubuntu 图标后就可以看到了</strong>。</p>
<p>正如上面所说，这里 Windows 键被叫做<code>Super</code>，关于它也有很多快捷键，比如：</p>
<ul>
<li><code>Super+L</code>：锁屏</li>
<li>单击<code>Super</code>：显示所有打开的窗口</li>
<li><strong>快速</strong>双击<code>Super</code>：显示安装过的应用</li>
</ul>
<p>其次，这里有些应用可能跟 Windows 的叫法不太一样，比如：</p>
<ul>
<li>Firefox：系统自带浏览器（相当于 Edge，但比 Edge 简洁多了）</li>
<li>文件（Files）：文件资源管理器</li>
<li>系统监视器（System Monitor）：任务管理器</li>
<li>文本编辑器（Text Editor）：Notepad</li>
<li>启动应用程序（不知道英文翻译）：开机启动项管理器</li>
<li>&hellip;</li>
</ul>
<p><strong>接下来我统一用 Ubuntu 对于应用名称的中文翻译称呼应用。</strong></p>
<p>这里建议大家在左侧把 Firefox、文件、终端、系统监视器固定上，<strong>尤其是终端，很常用也很有用</strong>。</p>
<blockquote>
<p>如果您想要用文件应用的话，记得在该应用内<strong>按一下<code>Ctrl+H</code>显示隐藏文件</strong>，因为 <strong>Linux 默认会把<code>.</code>开头的文件/文件夹隐藏掉</strong>。</p></blockquote>
<p>现在我向您介绍一下终端的大概界面：</p>
<blockquote>
<p>打开终端，您会看到一个紫底白字的界面，这就是 Ubuntu 的默认终端界面。</p>
<p>与 Windows 下的 CMD、Powershell 不同，在您输入的命令前面会依次有这些信息：</p>
<pre tabindex="0"><code>用户名@主机名:当前路径$ 
</code></pre><p>如果您输入<code>sudo su -</code>获得了根用户权限，那么您的用户名会变成<code>root</code>。</p>
<p>如果当前路径是<code>/</code>，则代表<strong>系统</strong>根目录（见最上面第 3 条），<code>~</code>代表<strong>当前用户</strong>的根目录。</p>
<p>一般而言，<strong>如果是普通用户，根目录就是<code>/home/用户名</code></strong>，<strong>根用户的根目录是<code>/root</code></strong>，注意这个区别。</p>
<p>如果您无法确认您当前的路径，可以输入<code>pwd</code>指令，回车，就可以看到当前路径了。</p>
<p>另外，Ubuntu 终端的<strong>复制、粘贴快捷键是<code>Ctrl+Shift+C</code>、<code>Ctrl+Shift+V</code></strong>，并且<strong>单击右键是不能直接复制粘贴的</strong>，要在右键菜单内手动点击一下。</p></blockquote>
<h2 id="安装软件疑难解答">安装软件&amp;疑难解答<a hidden class="anchor" aria-hidden="true" href="#安装软件疑难解答">#</a></h2>
<p>（是的，我已经帮您踩过很多坑了……）</p>
<p>感谢 DeepSeek、百度对本部分的帮助。</p>
<p>注意，下面几乎所有的软件安装、异常处理等<strong>都需要终端</strong>，请随时打开终端，并做好使用它的准备。</p>
<p>因为下面的安装过程非常繁琐，所以我自己编写了一个 <a href="/autoconfig" download>程序（尚未完工）</a>，运行方法：</p>
<blockquote>
<p>首先打开终端，<code>cd</code>到您下载的位置，然后直接输入：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./autoconfig
</span></span></code></pre></div><p>回车即可。</p>
<p>如果终端提示执行失败（大概率也不会有这个问题），则请保证这个文件有执行权限，可以用这个命令授予：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chmod +x ./autoconfig
</span></span></code></pre></div><p>然后重新执行运行命令即可。</p>
<p>注意：这个自动安装脚本<strong>只保证兼容 Ubuntu 24.04 系统</strong>，过旧或过新的系统都可能导致运行出错，如果运行此脚本导致出现了错误，请把报错信息发在评论区，我会进行处理。</p>
<hr>
<p>另外，这个脚本是用 C++ 编写的，完全开源，<a href="/autoconfig.cpp" download>源码下载链接（尚未完工）</a>。</p></blockquote>
<h3 id="1-基础终端命令">1. 基础终端命令<a hidden class="anchor" aria-hidden="true" href="#1-基础终端命令">#</a></h3>
<p>事实上很多命令和 Windows 都一样的，但部分命令还是有差别的，这里都说一下：</p>
<ul>
<li>
<p><code>cat</code>：输出文件内容（<strong>Windows 下是<code>type</code></strong>）</p>
</li>
<li>
<p><code>cp</code>：复制文件/文件夹（<strong>Windows 下是<code>copy</code></strong>）</p>
<blockquote>
<p>下面还会修改很多配置文件，建议每次改配置文件之前把原本的文件<code>cp</code>一下，比如<code>config.conf</code>可以复制为<code>config.conf.bak</code>（<code>bak</code>是<code>backup</code>，即“备份”，的简写）</p>
<p><code>cp -r</code>：递归复制，说白了就是复制文件夹用的</p></blockquote>
<p>文件夹用的</p>
</li>
<li>
<p><code>mv</code>：移动文件/文件夹（<strong>Windows 下是<code>move</code></strong>）</p>
</li>
<li>
<p><code>ls</code>/<code>dir</code>：输出当前目录下的文件/文件夹列表（<strong>Windows 下只有<code>dir</code></strong>），<strong>注意它只会输出文件名，没有详细信息</strong></p>
<blockquote>
<p><code>ls -a</code>：输出所有文件（包括隐藏文件）</p></blockquote>
</li>
<li>
<p><code>cd</code>：转到文件夹，<strong>注意目录分隔符不要写成<code>\</code>，而是<code>/</code></strong></p>
<blockquote>
<p><code>cd ..</code>：返回上级目录</p>
<p>只敲一个<code>cd</code>：返回当前用户的根目录</p></blockquote>
</li>
<li>
<p><code>rm</code>：删除文件/文件夹（<strong>Windows 下是<code>del</code></strong>）</p>
<blockquote>
<p><code>rm -r</code>：递归删除，说白了就是删除文件夹用的</p></blockquote>
</li>
<li>
<p><code>mkdir</code>：新建文件夹，<strong>注意 Linux 下新建文件夹必须要一级一级建立</strong>（比如您输入了<code>mkdir a/b/c/d</code>，但<code>a/b/c</code>这个文件夹不存在，那么系统就没法建文件夹了）</p>
</li>
<li>
<p><code>rmdir</code>：删除文件夹，没用</p>
<blockquote>
<p>因为它相当于<code>rm -r</code>，但其难用的点就在于删除非空文件夹时候需要加上<code>--ignore-fail-on-non-empty</code>参数（但<code>rm -r</code>不用加）</p></blockquote>
</li>
</ul>
<p>软件包系列的指令：（下面指令基本都要<code>sudo</code>）</p>
<ul>
<li><code>apt</code>：Linux 经典软件包管理器之一
<ul>
<li><code>apt update</code>：更新可用软件包列表（建议在执行<code>install</code>、<code>reinstall</code>指令前都运行一下）</li>
<li><code>apt install 软件包名称</code>：安装软件包（具体使用方法下面会说）</li>
<li><code>apt reinstall 软件包名称</code>：重新安装软件包</li>
<li><code>apt purge 软件包名称</code>（<strong>注意不是<code>uninstall</code></strong>）：卸载软件包</li>
<li><code>apt upgrade</code>：一键更新所有软件包</li>
<li><code>apt autoremove</code>：一键卸载所有没用的软件包（建议在卸载软件包后都运行一下）</li>
</ul>
</li>
<li><code>apt-get</code>：跟<code>apt</code>基本一个意思</li>
<li><code>apt-mark</code>：对软件包进行安装标记的工具
<ul>
<li><code>apt-mark hold 软件包名称</code>：设置软件包为保留，让<code>apt</code>无法自动更新、卸载一个软件包</li>
<li><code>apt-mark unhold 软件包名称</code>：取消其保留标记</li>
</ul>
</li>
<li><code>dpkg</code>：Linux 经典软件包管理器之一，但一般用于本地安装包的安装
<ul>
<li><code>dpkg -i 软件包文件名</code>：安装这个软件包</li>
</ul>
</li>
</ul>
<p>如果您想要知道一个命令的详细信息，可以在命令后面加一个<code>--help</code>，比如<code>rm --help</code>，<strong>注意不是 Windows 下的<code>/?</code>，因为 Linux 会把这个识别成路径</strong>。</p>
<h3 id="2-软件换源">2. 软件换源<a hidden class="anchor" aria-hidden="true" href="#2-软件换源">#</a></h3>
<p>我之所以要讲这个，是因为 Ubuntu 默认安装软件访问的是它的官网，下载比较慢（或者干脆访问不上），所以我们就要让系统安装软件的时候，<strong>访问我们国内的镜像源</strong>。</p>
<p>这里提供一下清华镜像源的配置方法（其他镜像源配置也差不多）：</p>
<blockquote>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">官方配置方法</a></p>
<h4 id="21-确定新旧版">2.1. 确定新旧版<a hidden class="anchor" aria-hidden="true" href="#21-确定新旧版">#</a></h4>
<p>首先，新旧版的换源方法是不一样的。</p>
<p>区分方法是输入<code>cat /etc/apt/sources.list</code>，如果输出了一堆内容就代表您使用的是旧版，但如果只有一行：</p>
<pre tabindex="0"><code># Ubuntu sources have moved to /etc/apt/sources.list.d/ubuntu.sources
</code></pre><p>或者干脆没有，那就是新版。理论上按照编者上面内容安装的 Ubuntu 24.04 那大概率都是新版。</p>
<p>接下来我们根据新旧版分别打开：</p>
<ul>
<li>旧版：<code>/etc/apt/sources.list</code></li>
<li>新版：<code>/etc/apt/sources.list.d/ubuntu.sources</code></li>
</ul>
<blockquote>
<p>打开方法有两种：</p>
<ol>
<li>UI：
<ul>
<li>打开“文件”（应用名称）。</li>
<li><strong>点一下上面的目录栏</strong>（刚打开应该显示的是“主文件夹”，点一下会显示<code>/home/您的用户名</code>）。</li>
<li>然后您就可以任意改路径了（改成旧版的<code>/etc/apt</code>或者新版的<code>/etc/apt/sources.list.d</code>）。</li>
<li>接下来双击打开对应文件（旧版的<code>sources.list</code>或者新版的<code>ubuntu.sources</code>）即可。</li>
<li>接着就可以任意修改文件了。</li>
<li>注意保存文件的时候要输入密码，因为这个文件夹只有管理员才能改。</li>
</ul>
</li>
<li>Vim：
<ul>
<li>（如果您的系统没有预装 Vim 的话这一步还没法用，但后面改配置基本都要用到 Vim）</li>
<li>在终端内输入<code>sudo vim 要打开的文件</code>（这里加<code>sudo</code>是因为这个文件要管理员权限才能修改，普通文件不用加<code>sudo</code>）。</li>
<li>然后<strong>按下<code>I</code>键进入编辑模式</strong>（刚用 Vim 打开一个文件默认是命令模式，没法修改文件）。</li>
<li>接下来就可以任意修改文件了，用法跟普通的文本编辑器差不多。</li>
<li>修改完之后，<strong>按下<code>Esc</code>键重新进入命令模式</strong>。</li>
<li><strong>依次输入<code>:wq</code>以保存并退出</strong>。</li>
<li>看到重新回到终端界面就成功了。</li>
</ul>
</li>
</ol></blockquote>
<h4 id="22-修改配置">2.2. 修改配置<a hidden class="anchor" aria-hidden="true" href="#22-修改配置">#</a></h4>
<p>然后我们开始修改配置文件。</p>
<p>注意下面的内容<strong>只针对 Ubuntu 24.04 版本</strong>，其他版本可以自行去<a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">官方网站</a>，如果是旧版则配置文件是网站里的第一个文本框，新版是第二个，版本自行修改文本框上面“Ubuntu 版本”的内容。</p>
<p>旧版改成：</p>
<pre tabindex="0"><code class="language-config" data-lang="config">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ noble-backports main restricted universe multiverse
deb http://security.ubuntu.com/ubuntu/ noble-security main restricted universe multiverse
</code></pre><p>新版改成：</p>
<pre tabindex="0"><code class="language-config" data-lang="config">Types: deb
URIs: https://mirrors.tuna.tsinghua.edu.cn/ubuntu/
Suites: noble noble-updates noble-backports
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg

Types: deb
URIs: http://security.ubuntu.com/ubuntu/
Suites: noble-security
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg
</code></pre><p>保存并退出即可。</p></blockquote>
<p>确认自己有没有正确换源可以在终端输入：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span></code></pre></div><p><strong>如果看到了<code>tsinghua</code>、<code>tuna</code>等字眼就是换源成功了。</strong></p>
<h3 id="3-vim">3. Vim<a hidden class="anchor" aria-hidden="true" href="#3-vim">#</a></h3>
<p>Vim 是 Linux 下非常出名的一个编辑器，也是接下来修改配置的必要软件。</p>
<p>安装方法：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install vim
</span></span></code></pre></div><blockquote>
<p>如果安装出错可以执行一下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">apt --fix-broken install
</span></span></code></pre></div><p>因为刚刚安装的系统可能会有安装不完整的问题。</p></blockquote>
<p>但如果您在安装的时候安装了更多的软件，可能系统会自带 Vim。</p>
<h3 id="4-输入法">4. 输入法<a hidden class="anchor" aria-hidden="true" href="#4-输入法">#</a></h3>
<p><del>古语有云</del>，没有输入法的系统是没有灵魂的，所以我们先配置一下我们的输入法。</p>
<h4 id="41-下载">4.1. 下载<a hidden class="anchor" aria-hidden="true" href="#41-下载">#</a></h4>
<p>这里建议用<a href="https://shurufa.sogou.com/linux">搜狗输入法</a>（<strong>注意一定要加上<code>/linux</code>的网址后缀，不然下载的就是 Android 版了</strong>），点击“立即下载”，弹窗内的版本根据您的电脑选择（<strong>一般都是“x86_64”</strong>），点一下就开始下载了。</p>
<p>然后搜狗就会自动弹出<a href="https://shurufa.sogou.com/linux/guide">官方安装指导</a>，当然您也可以继续看这里的安装教程。最下面会有关于这部分的异常处理。</p>
<p>注意下载后<strong>不要着急安装这个安装包</strong>，先改配置。</p>
<h4 id="42-设置">4.2. 设置<a hidden class="anchor" aria-hidden="true" href="#42-设置">#</a></h4>
<p>首先打开“设置”应用，依次进入“系统”“区域和语言”“管理已安装的语言（Manage Installed Languages）”菜单，如果找不到可以点左上角的放大镜符号搜索设置。</p>
<p>首次启动可能需要下载一下语言包，耐心等待即可。</p>
<p>接下来设置“菜单和窗口的语言”下面的第一个语言为“汉语（中国）”。</p>
<blockquote>
<p>如果安装的时候选择了中文语言这里应该就不用设了。</p>
<p>但如果在栏里面没找到“汉语”选项，就点一下下面的“添加或删除语言&hellip;”：</p>
<img src="https://ife.gtimg.com/build/client/official-website/assets/step-1_8106d42.jpg" width=387 alt="图片源自网络">
<p>往下划找到“中文（简体）”选项，把这个框勾选上：</p>
<img src="https://ife.gtimg.com/build/client/official-website/assets/step-2_4afc85d.jpg" width=549 alt="图片源自网络">
<p>最后点击右下角“应用”即可。</p>
<p>应该要安装一下语言包，等待即可。</p></blockquote>
<p>然后回到“语言支持”窗口，把“键盘输入法系统”换成“fcitx”或者“Fcitx 4”：</p>
<img src="https://ife.gtimg.com/build/client/official-website/assets/step-3_79400b6.jpg" width=394 alt="图片源自网络">
<p>理论上 Ubuntu 24.04 应该是预装了 Fcitx 4 的，但如果您的双系统没有的话，在终端运行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install fcitx
</span></span></code></pre></div><p>然后再改设置即可。</p>
<p>注：Ubuntu 的终端支持多行命令，您可以将上述命令直接复制到您的终端内。</p>
<p>接下来卸载设置 Fcitx 开机自启：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo cp /usr/share/applications/fcitx.desktop /etc/xdg/autostart/
</span></span></code></pre></div><p>卸载 IBus 输入法框架以免冲突：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt purge ibus
</span></span></code></pre></div><h4 id="43-安装">4.3. 安装<a hidden class="anchor" aria-hidden="true" href="#43-安装">#</a></h4>
<p>经过一通操作，终于可以开始安装了。</p>
<p>我们打开终端，<code>cd</code>到您下载的<code>.deb</code>文件目录，然后运行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dpkg -i 安装包名
</span></span></code></pre></div><p>比如这是笔者编写时的最新版本的安装命令：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dpkg -i sogoupinyin_4.2.1.145_amd64.deb
</span></span></code></pre></div><p>然后安装输入法依赖：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install libqt5qml5 libqt5quick5 libqt5quickwidgets5 qml-module-qtquick2
</span></span><span class="line"><span class="cl">sudo apt install libgsettings-qt1
</span></span></code></pre></div><h4 id="44-测试">4.4. 测试<a hidden class="anchor" aria-hidden="true" href="#44-测试">#</a></h4>
<p>接下来我们输入法就安装完成了。</p>
<p>重启电脑，右上角应该能够看到“搜狗”字样：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://ife.gtimg.com/build/client/official-website/assets/help13_1c410df.png"></p>
<p>如果没有的话，点击配置：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://ife.gtimg.com/build/client/official-website/assets/help14_90ff0c1.png"></p>
<p>点击左下角的加号，搜索<code>sogou</code>，选中搜狗拼音，点击“OK”即可：</p>
<p><img alt="图片源自网络" loading="lazy" src="https://ife.gtimg.com/build/client/official-website/assets/help15_09f3f5a.png"></p>
<h3 id="5-输入法---异常处理">5. 输入法 - 异常处理<a hidden class="anchor" aria-hidden="true" href="#5-输入法---异常处理">#</a></h3>
<h4 id="51-text-stylecolorgreen已解决text开机没有看到输入法">5.1. <text style="color:green">【已解决】</text>开机没有看到输入法？<a hidden class="anchor" aria-hidden="true" href="#51-text-stylecolorgreen已解决text开机没有看到输入法">#</a></h4>
<p>开机没有看到搜狗输入法是正常现象，因为其开机启动是需要时间的，等一下即可，理论上不会超过 1 分钟。</p>
<p>如果超过这个时间还没看到的话，建议检查一下您是否把 Fcitx 加到了开机启动项（可以打开左下角“显示应用”里的“启动应用程序”，看有没有 Fcitx 字样即可），如果没有，添加一下；如果有，可以手动在应用列表里面点一下 Fcitx。</p>
<h4 id="52-text-stylecolorgreen已解决text我的搜狗状态栏开始闪烁抽风了">5.2. <text style="color:green">【已解决】</text>我的搜狗状态栏开始闪烁抽风了<a hidden class="anchor" aria-hidden="true" href="#52-text-stylecolorgreen已解决text我的搜狗状态栏开始闪烁抽风了">#</a></h4>
<p>理论上 Ubuntu 24.04 系统肯定会出现这个 bug。</p>
<p>因为 Ubuntu 24.04 默认用的是 Wayland 显示协议，跟搜狗输入法的显示协议不兼容。</p>
<p>所以我们在设置里把 Wayland 关闭，改成 Xorg 即可。</p>
<p>操作方法：</p>
<ul>
<li>打开文件<code>/etc/gdm3/custom.conf</code>（方法见 2.1）。</li>
<li>把<code>#WaylandEnable=false</code>这一行的<code>#</code>删掉即可。</li>
<li>保存并退出。</li>
</ul>
<p>然后重启，就恢复正常了。</p>
<h3 id="6-在-ubuntu-系统打开其他盘">6. 在 Ubuntu 系统打开其他盘<a hidden class="anchor" aria-hidden="true" href="#6-在-ubuntu-系统打开其他盘">#</a></h3>
<p>打开“文件”应用，点击左侧菜单的“其他位置”按钮，您就可以看到您的所有盘了。</p>
<p>随便点击一个，Ubuntu 就会自动判断其文件系统，并打开。</p>
<blockquote>
<p><text style="color:purple">给开发者的提醒：</text>Windows 中文版默认文件系统的编码是 GBK，但 Ubuntu 是 UTF-8，所以 Ubuntu 会把 Windows 的文件系统文件名转为 UTF-8 再处理（但不进行实际修改），所以您在编写代码的时候记得<strong>用 UTF-8 编码调用文件</strong>。</p></blockquote>
<h3 id="7-在-ubuntu-系统打开其他盘---异常处理">7. 在 Ubuntu 系统打开其他盘 - 异常处理<a hidden class="anchor" aria-hidden="true" href="#7-在-ubuntu-系统打开其他盘---异常处理">#</a></h3>
<h4 id="71-text-stylecolorgreen已解决text我在-windows-下能够打开我的盘但-ubuntu-下提示文件系统已损坏之类的错误">7.1. <text style="color:green">【已解决】</text>我在 Windows 下能够打开我的盘，但 Ubuntu 下提示“文件系统已损坏”之类的错误<a hidden class="anchor" aria-hidden="true" href="#71-text-stylecolorgreen已解决text我在-windows-下能够打开我的盘但-ubuntu-下提示文件系统已损坏之类的错误">#</a></h4>
<p>首先尝试更新一下 NTFS 驱动：（如果您的盘是 NTFS 文件系统）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install ntfs-3g
</span></span></code></pre></div><p>然后您可以查看一下上面说的“其他位置”菜单里，您的盘右边写的路径是多少（一般以<code>/dev/</code>开头，比如我的 C 盘就是<code>/dev/nvme0n1p3</code>，<strong>注意，这个路径只是引导文件路径，不是实际存储文件的路径</strong>）</p>
<p>接下来用 Linux 自带的软件修复：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo ntfsfix -d 路径  <span class="c1"># 如果您的文件系统是 NTFS（相当于 Windows 下的 chkdsk 命令）</span>
</span></span><span class="line"><span class="cl">sudo fsck.fat -a 路径  <span class="c1"># 如果您的文件系统是 FAT32 或 exFAT（相当于 Windows 下的 chkdsk 命令）</span>
</span></span><span class="line"><span class="cl">sudo fsck -y -f 路径  <span class="c1"># 如果您的文件系统是 ext2、ext3 或 ext4（用于 Linux 系统盘损坏）</span>
</span></span></code></pre></div><p>此时多数问题应该都能解决了。</p>
<hr>
<p>当然，如果您不想用终端，也可以用图形化界面：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install gnome-disk-utility
</span></span></code></pre></div><p>不过这个软件大概率预装了，我们可以直接点击桌面左下角“显示应用”，点击“工具”文件夹，点击“磁盘”应用。</p>
<p>接下来这个界面和操作就和 Windows 里的“磁盘管理”差不多了，自行摸索即可。</p>
<h4 id="72-text-stylecolorgreen已解决text仍然无法解决问题">7.2. <text style="color:green">【已解决】</text>仍然无法解决问题<a hidden class="anchor" aria-hidden="true" href="#72-text-stylecolorgreen已解决text仍然无法解决问题">#</a></h4>
<p>那么您可以进入 Windows 系统，然后输入：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chkdsk /f 磁盘盘符（如C:等）
</span></span></code></pre></div><p>耐心等待一会儿即可。</p>
<p>如果还是无法解决问题，且 U 盘内没有过于重要的数据，可以再加上<code>/r</code>选项，这个选项可能会损坏数据（但概率小）。</p>
<h3 id="8-安装-vmware">8. 安装 VMware<a hidden class="anchor" aria-hidden="true" href="#8-安装-vmware">#</a></h3>
<p>如果您原本就是一个虚拟机用户，那么用 Linux 版的 VMware 也可以直接打开您在 Windows 下装的虚拟机。</p>
<h4 id="81-下载">8.1. 下载<a hidden class="anchor" aria-hidden="true" href="#81-下载">#</a></h4>
<p>因为 VMware 被 Broadcom 收购了，链接非常深，所以提供一个<a href="https://support.broadcom.com/group/ecx/productdownloads?subfamily=VMware%20Workstation%20Pro&amp;freeDownloads=true">下载直达链接</a>。</p>
<p>进入后，点击“VMware Workstation Pro for Linux”，然后在下面的列表内选择最新的版本，下载即可。</p>
<h4 id="82-安装">8.2. 安装<a hidden class="anchor" aria-hidden="true" href="#82-安装">#</a></h4>
<p>然后，您就会发现，咋这个后缀名是<code>.bundle</code>呢？不是说安装包都是<code>.deb</code>吗？</p>
<p>这是因为，VMware 的安装包其实是 Ruby 语言编的，所以我们要先装一下 Ruby：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install ruby
</span></span></code></pre></div><p>然后运行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo ./您下载的文件名
</span></span></code></pre></div><p>然后等待一会儿，您的 VMware 就安装好了。</p>
<h3 id="9-安装-vmware---异常处理">9. 安装 VMware - 异常处理<a hidden class="anchor" aria-hidden="true" href="#9-安装-vmware---异常处理">#</a></h3>
<h4 id="91-text-stylecolorgreen已解决text进不去-vmware一直报错一些模块需要安装到内核内点击安装后又报错建立环境失败一个需要的引用缺失">9.1. <text style="color:green">【已解决】</text>进不去 VMware，一直报错“一些模块需要安装到内核内”，点击“安装”后又报错“建立环境失败，一个需要的引用缺失”<a hidden class="anchor" aria-hidden="true" href="#91-text-stylecolorgreen已解决text进不去-vmware一直报错一些模块需要安装到内核内点击安装后又报错建立环境失败一个需要的引用缺失">#</a></h4>
<p>一般这个问题是因为缺少内核模块，运行以下命令安装即可：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install build-essential
</span></span><span class="line"><span class="cl">sudo apt install linux-headers-<span class="k">$(</span>uname -r<span class="k">)</span>
</span></span></code></pre></div><h4 id="92-text-stylecolorred未解决text这-vmware-的界面咋是英文的">9.2. <text style="color:red">【未解决】</text>这 VMware 的界面咋是英文的？<a hidden class="anchor" aria-hidden="true" href="#92-text-stylecolorred未解决text这-vmware-的界面咋是英文的">#</a></h4>
<p>没办法，好像人家 VMware 只支持英文了……</p>
<p>您可以考虑手动配置一下语言包（方法可以问 DeepSeek），如果您实在看不懂英文的话。</p>
<h3 id="10-安装一堆杂七杂八的软件">10. 安装一堆杂七杂八的软件<a hidden class="anchor" aria-hidden="true" href="#10-安装一堆杂七杂八的软件">#</a></h3>
<h4 id="101-g-安装">10.1. G++ 安装<a hidden class="anchor" aria-hidden="true" href="#101-g-安装">#</a></h4>
<p>G++ 是用于编译 C++ 代码的编译器，如果您也使用 C++ 进行编程，可以直接执行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install g++
</span></span></code></pre></div><p>即可安装。</p>
<blockquote>
<p>但这样安装的可能不是最新版（笔者安装的是<code>13.2.0</code>版本，但在安装的时候最新版已经<code>15.1.0</code>了）。</p>
<p>如果对最新版有很高要求的话可以去 <a href="https://www.mingw-w64.org/downloads/">mingw-w64 官网</a>，选择 <a href="https://archlinux.org/packages/extra/x86_64/mingw-w64-gcc/">Arch Linux</a>，点击右侧的 <a href="https://archlinux.org/packages/extra/x86_64/mingw-w64-gcc/download/">Download From Mirror</a> 进行下载。</p>
<p>然后您就会发现下载的速度慢到离谱，所以建议科学上网。</p>
<p>接下来还要把下载的结果拷到可执行文件的文件夹下，笔者也不会配，所以不写教程了。</p></blockquote>
<h4 id="102-git-安装">10.2. Git 安装<a hidden class="anchor" aria-hidden="true" href="#102-git-安装">#</a></h4>
<p>为了在 Linux 上也能访问开源软件网站 Github，可以通过这个指令安装 Git：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install git
</span></span></code></pre></div><h4 id="103-vscode-安装">10.3. VSCode 安装<a hidden class="anchor" aria-hidden="true" href="#103-vscode-安装">#</a></h4>
<p>去<a href="https://code.visualstudio.com/">官网首页</a>点击下面的“Download for Linux (.deb)”按钮就可以直接下载<code>.deb</code>安装包了，接下来用：</p>
<pre tabindex="0"><code>sudo dpkg -i 安装包名
</code></pre><p>即可直接安装。</p>
<h4 id="104-qq-安装">10.4. QQ 安装<a hidden class="anchor" aria-hidden="true" href="#104-qq-安装">#</a></h4>
<p><a href="https://im.qq.com/linuxqq/index.shtml">官网直达</a>，往下划一点，然后用跟搜狗拼音一样的选择方法下载<code>.deb</code>安装包。</p>
<p>安装方式同 VSCode。</p>
<h4 id="105-微信安装">10.5. 微信安装<a hidden class="anchor" aria-hidden="true" href="#105-微信安装">#</a></h4>
<p><a href="https://linux.weixin.qq.com/">官网直达</a>，用跟搜狗拼音一样的选择方法下载<code>.deb</code>安装包。</p>
<p>安装方式同 VSCode。</p>
<h4 id="106-lx-music-安装">10.6. LX Music 安装<a hidden class="anchor" aria-hidden="true" href="#106-lx-music-安装">#</a></h4>
<p>我说这个软件是因为它要从 Github 上下载，可以说一下如何在 Github 上选安装包，同时它也涉及到数据同步的问题。</p>
<p><a href="https://github.com/lyswhut/lx-music-desktop/releases/">官网直达</a>，在 Releases 栏的 Assets 列表内找到形如<code>lx-music-desktop_版本号_amd64.deb</code>的安装包（<strong>现在电脑应该大多数都是<code>amd64</code>架构</strong>），点一下即可下载<code>.deb</code>安装包。</p>
<blockquote>
<p>如果嫌慢可以在下载的链接前面加上<code>https://ghproxy.net/</code>等镜像网站的链接，就可以下载得快一些。</p></blockquote>
<p>之后安装同 VSCode。</p>
<hr>
<p>然后就是关于怎么在 Windows 上把您这个软件的数据拷贝到 Ubuntu 的问题了。</p>
<p>根据<a href="https://lxmusic.toside.cn/desktop/datapath">官方文档</a>，Windows 下的文件目录在形如<code>C:\Users\用户名\AppData\Roaming\lx-music-desktop</code>的路径下，而 Linux 系列则是<code>~/.config/lx-music-desktop</code>。</p>
<p>所以我们就可以按照配置的第 6 步教的方法访问到这个路径，把必要文件（如<code>LxDatas</code>内存储了所有的配置文件）拷贝一下，复制到 Ubuntu 的数据目录即可。</p>
<h4 id="107-wps-office-安装">10.7. WPS Office 安装<a hidden class="anchor" aria-hidden="true" href="#107-wps-office-安装">#</a></h4>
<p><a href="https://www.wps.cn/product/wpslinux">官网直达</a>，点击“立即下载”下载<code>.deb</code>安装包。</p>
<p>安装方式同 VSCode。</p>
<p>注意，WPS Office 会占用 2 GB 以上的空间，请按需安装，如果真的遇到系统无法打开的文档建议下载其他 Office 替代品。</p>
<h4 id="108-npm-安装">10.8. NPM 安装<a hidden class="anchor" aria-hidden="true" href="#108-npm-安装">#</a></h4>
<p>与<code>apt</code>不同，<code>npm</code>是专门为 Node.js 开发的软件包管理器，安装方法也很简单：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install npm
</span></span></code></pre></div><h4 id="109-rpm-安装">10.9. RPM 安装<a hidden class="anchor" aria-hidden="true" href="#109-rpm-安装">#</a></h4>
<p>如果哪个软件只支持<code>.rpm</code>安装包，那么此时这个软件就派上用场了：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install rpm
</span></span></code></pre></div><p>用法跟<code>dpkg</code>一模一样，这里就不赘述了。</p>
<h4 id="1010-安装字体">10.10. 安装字体<a hidden class="anchor" aria-hidden="true" href="#1010-安装字体">#</a></h4>
<p>（准确来说这不算软件安装，但不要在意这些细节）</p>
<p>Ubuntu 系统兼容绝大多数的字体，如<code>.ttf</code>、<code>.otf</code>等，您双击这些字体也能看到，Ubuntu 能够正常识别并安装这些字体。</p>
<p>但对于要装的字体特别多的时候，一个一个手动安装必然不是好方法，所以这里介绍一种偷懒的方法。</p>
<p><strong>Linux 存储系统字体的目录在<code>/usr/share/fonts</code>这个目录下</strong>，可以看到有两个目录：</p>
<ul>
<li><code>truetype</code>：用于存储<code>.ttf</code>格式字体。</li>
<li><code>opentype</code>：用于存储<code>.otf</code>格式字体。</li>
</ul>
<p>（其实还有别的目录，只是笔者不知道存啥的罢了）</p>
<p>那接下来的操作就简单了，我们把您的字体文件夹复制（<code>cp -r</code>）到对应目录下即可。</p>
<p>最后<strong>记得刷新缓存</strong>，不然您可能看不到您新安装的字体：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">fc-cache -fv
</span></span></code></pre></div><p>等待几秒即可。</p>
<h3 id="11-一堆异常处理">11. 一堆异常处理<a hidden class="anchor" aria-hidden="true" href="#11-一堆异常处理">#</a></h3>
<h4 id="111-text-stylecolorgreen已解决text我的文件资源管理器为啥右上角会有个角标">11.1. <text style="color:green">【已解决】</text>我的文件资源管理器为啥右上角会有个角标？<a hidden class="anchor" aria-hidden="true" href="#111-text-stylecolorgreen已解决text我的文件资源管理器为啥右上角会有个角标">#</a></h4>
<p>首先看看您有没有<strong>未执行完的文件操作</strong>，等待之后应该就可以消失。</p>
<p>但如果没有操作，重启也没法解决，那么您可以点击一下您桌面正上方的时间，此时会进入系统的通知和日历页面。</p>
<p>然后，<strong>把所有的通知都消除掉</strong>，角标应该就消失了。</p>
<p>如果都不彳亍的话，一般就是因为各种其他软件导致，建议问 DeepSeek 来定位问题。</p>
<h4 id="112-text-stylecolorgreen已解决text我的电脑为啥关机这么慢">11.2. <text style="color:green">【已解决】</text>我的电脑为啥关机这么慢<a hidden class="anchor" aria-hidden="true" href="#112-text-stylecolorgreen已解决text我的电脑为啥关机这么慢">#</a></h4>
<p>这不是应用的问题，因为系统设置的就是 90 秒关机……</p>
<p>想改的方法也很简单，我们打开<code>/etc/systemd/system.conf</code>配置文件，然后找到这一行：</p>
<pre tabindex="0"><code>#DefaultTimeoutStopSec=90s
</code></pre><p>把<code>#</code>去掉，然后把这个时间改小，比如改成：</p>
<pre tabindex="0"><code>DefaultTimeoutStopSec=5s
</code></pre><p>下面关机就快了。</p>
<h4 id="113-text-stylecolorgreen已解决text为啥我的-git-不记我的账号密码每次都得重输">11.3. <text style="color:green">【已解决】</text>为啥我的 Git 不记我的账号密码？每次都得重输<a hidden class="anchor" aria-hidden="true" href="#113-text-stylecolorgreen已解决text为啥我的-git-不记我的账号密码每次都得重输">#</a></h4>
<p>执行命令：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git config --global credential.helper store
</span></span></code></pre></div><p>即可在输入您的 Git 凭证的时候将您的凭证<strong>明文</strong>存储在本地的<code>~/.git-credentials</code>文件中。</p>
<hr>
<p>但如果您想要更高的安全性可以选择：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git config --global credential.helper cache
</span></span></code></pre></div><p>也可以加上缓存超时时间：（不设置则默认是 15 分钟）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git config --global credential.helper <span class="s1">&#39;cache --timeout=设置秒数&#39;</span>
</span></span></code></pre></div><p>然后 Git 会把您的凭证存储在内存内，优点是安全性高，但缺点是超时或重启后就得重新输入。</p>
<hr>
<p>如果您不想关机重输，可以选择用<code>libsecret</code>加密保存凭证，安装方法：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt-get install libsecret-1-0 libsecret-1-dev
</span></span></code></pre></div><p>然后设置：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git config --global credential.helper libsecret
</span></span></code></pre></div><p>测试是否设置成功可以用指令：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git config --global credential.helper
</span></span></code></pre></div><p>如果配置成功的话，应该输出<code>libsecret</code>。</p>
<h4 id="114-text-stylecoloryellow未完全解决text我的电脑挂起后抽风了">11.4. <text style="color:yellow">【未完全解决】</text>我的电脑挂起后抽风了……<a hidden class="anchor" aria-hidden="true" href="#114-text-stylecoloryellow未完全解决text我的电脑挂起后抽风了">#</a></h4>
<p>症状：挂起一段时间后重新打开电脑会闪烁一段时间的“认证失败”，然后无论输入什么密码都只会转圈，不能进入系统。</p>
<hr>
<p>如果您的电脑已经进入了这样的局面，可以用一下几种方式进行解决：</p>
<ol>
<li>进入 TTY 终端：
<blockquote>
<p>尝试按下<code>Ctrl+Alt+F1~F6</code>（不要把<code>Ctrl+Alt</code>键按着不放，每次都重新按一遍）</p>
<p>只要有一个终端是好的（不是那种仍然在输出一堆错误导致您无法输入命令的），我们就可以进入系统。</p>
<p>首先在这个好的终端内输入您的用户名和密码。</p>
<p>然后依次运行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install xinit
</span></span><span class="line"><span class="cl">startx
</span></span></code></pre></div><p>接下来可能桌面会有些怪怪的（反正我遇到的情况是这样的），但不管怎样您成功进入了系统。</p>
<p>如果受不了这种风格您可以保存一下数据，然后点击右上角重启一下即可。</p></blockquote>
</li>
<li>如果所有 TTY 终端都被各种日志填满：
<blockquote>
<p>此时我们只能考虑暴力重启了。</p>
<p>这里不建议用电源键强制关机，我们用另一种方式。</p>
<p>大家都知道键盘上有一个按键叫做<code>PrtSc</code>（Print Screen，屏幕截图），其实有些键盘上还会在这个下面加一个<code>SysRq</code>（System Request，系统请求）的字样，所以这个按键大概跟系统有关系。</p>
<p>而今天我们的这个方法就要用到这个按键。</p>
<p>首先，左手<strong>按住<code>Alt+PrtSc</code>组合键</strong>（如果是笔记本键盘大概率没有单独的<code>PrtSc</code>按键，而是和功能键<code>F1</code>~<code>F12</code>合并，此时记得把<code>Fn</code>左上角的亮灯点掉），<strong>注意不要松开直到您做完下面的操作</strong>。</p>
<p>然后右手<strong>依次按下<code>s</code>、<code>u</code>、<code>b</code>三个按键</strong>（最好中间间隔一段时间）。</p>
<p>这三个按键的作用分别是同步磁盘、卸载磁盘、重启，前两个是为了防止数据损坏，最后一个就是重启。</p>
<p>此时系统屏幕会突然一黑，然后出现<code>No Boot Device</code>（无引导设备）弹窗，不要惊慌，我们按下回车键。</p>
<p>然后您就会进入 UEFI 固件设置界面，我们不管它，按下<code>Esc</code>键，回车退出并不保存设置。</p>
<p>接下来您就会再次看到熟悉的双系统选择界面，直接进入 Ubuntu 系统即可。</p>
<p>不过这样会导致您未保存的数据全部丢失，请注意。</p></blockquote>
</li>
</ol>
<p>接下来编者会教大家如何预防这个问题。</p>
<hr>
<p>首先，最为简单的方式是安装<code>laptop-mode-tools</code>（笔记本电脑模式工具），安装方法：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install laptop-mode-tools
</span></span></code></pre></div><p>之后修改配置：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/laptop-mode/laptop-mode.conf
</span></span></code></pre></div><p>修改一下这些设置：</p>
<pre tabindex="0"><code>ENABLE_LAPTOP_MODE_ON_BATTERY=1
ENABLE_LAPTOP_MODE_ON_AC=1
ENABLE_LAPTOP_MODE_WHEN_LID_CLOSED=1
</code></pre><p>此时大概率就可以解决了。</p>
<p>但注意，这样会导致<strong>系统用于控制电源模式的软件<code>power-profiles-daemon</code>被卸载</strong>，右上角就无法控制当前电源模式是“节点”“平衡”还是“性能”了。</p>
<hr>
<p>如果您要保留这个控制电源模式的软件，可以用另一种方法。</p>
<p>（这个方法笔者还没有验证过，就不说了，等验证有效后再写到这里）</p>
<h4 id="115-text-stylecoloryellow未完全解决text我进了一次-windows-系统然后回不去-ubuntu-系统了">11.5. <text style="color:yellow">【未完全解决】</text>我进了一次 Windows 系统，然后回不去 Ubuntu 系统了……<a hidden class="anchor" aria-hidden="true" href="#115-text-stylecoloryellow未完全解决text我进了一次-windows-系统然后回不去-ubuntu-系统了">#</a></h4>
<p>症状：进入 Windows 系统后再次重启结果双系统选择界面消失，无法进入 Ubuntu 系统。</p>
<hr>
<p>如果您的 Ubuntu 系统没有出什么 EFI 引导程序级别的问题，那么大概率是 Windows 把原本的引导程序覆盖了，导致您无法进入原本的引导界面。</p>
<p>解决方法：</p>
<ol>
<li>
<p>在 Windows 系统下以管理员模式打开<code>cmd</code>（命令指示符），然后输入这个命令：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">diskpart
</span></span></code></pre></div></li>
<li>
<p>此时就会进入 Windows 的 Microsoft DiskPart 磁盘管理工具的界面，我们输入：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">list disk
</span></span></code></pre></div></li>
<li>
<p>列出您当前电脑的所有磁盘，找到您安装 Ubuntu 系统的磁盘，然后执行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="k">select</span> disk 磁盘编号
</span></span></code></pre></div><p>注意，这个磁盘对应的是<strong>您电脑内部的硬盘</strong>，而<strong>不是</strong>您分出来的 C 盘、D 盘之类的，具体可以打开“磁盘管理”看看您安装 Ubuntu 系统的盘属于哪个硬盘。</p>
</li>
<li>
<p>此时您安装 Ubuntu 的磁盘已经被选中了，然后列出所有里面的分盘：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">list partition
</span></span></code></pre></div></li>
<li>
<p>然后找到“类型”一栏为“<strong>系统</strong>”的盘的编号（一般都是 0），或者打开“磁盘管理”看哪个盘的备注写的是“<strong>EFI 系统分区</strong>”，然后选中这个盘：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="k">select</span> partition 分盘编号
</span></span></code></pre></div><p>（如果不确定编号可以问 DeepSeek）</p>
<p>选中后验证一下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">assign <span class="nv">letter</span><span class="o">=</span>S
</span></span><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span></code></pre></div><p>此时您就退出到了 Windows 原本的终端，然后输入：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dir S:<span class="se">\E</span>FI<span class="se">\u</span>buntu<span class="se">\
</span></span></span></code></pre></div><p>只要有：</p>
<pre tabindex="0"><code>grubx64.efi
shimx64.efi
grub.cfg
</code></pre><p>三个文件，就说明您选对磁盘了，并且 Ubuntu 系统的引导文件完好。</p>
<p>注意下面命令要在 <strong>Windows 原本的终端</strong>而<strong>不是</strong> DiskPart 内运行。</p>
</li>
<li>
<p>接下来，我们先修复一下引导配置：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bcdedit /set <span class="o">{</span>bootmgr<span class="o">}</span> path <span class="se">\E</span>FI<span class="se">\u</span>buntu<span class="se">\g</span>rubx64.efi
</span></span><span class="line"><span class="cl">bcdedit /set <span class="o">{</span>bootmgr<span class="o">}</span> displayorder <span class="o">{</span>current<span class="o">}</span> /addfirst
</span></span><span class="line"><span class="cl">bcdedit /set <span class="o">{</span>bootmgr<span class="o">}</span> timeout <span class="m">10</span>
</span></span></code></pre></div><p>创建 Ubuntu 引导项：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bcdedit /create /d <span class="s2">&#34;Ubuntu&#34;</span> /application osloader
</span></span></code></pre></div><p>然后系统会给你输出<code>{xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}</code>格式的一个 GUID，<strong>复制它，下面会用到</strong>。</p>
<p>我们继续运行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">bcdedit /set <span class="o">{</span>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx<span class="o">}</span> path <span class="se">\E</span>FI<span class="se">\u</span>buntu<span class="se">\g</span>rubx64.efi
</span></span><span class="line"><span class="cl">bcdedit /set <span class="o">{</span>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx<span class="o">}</span> device <span class="nv">partition</span><span class="o">=</span>S:
</span></span><span class="line"><span class="cl">bcdedit /displayorder <span class="o">{</span>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx<span class="o">}</span> /addlast
</span></span></code></pre></div><p>阻止 Windows 覆盖引导：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">attrib +S +H S:<span class="se">\E</span>FI<span class="se">\M</span>icrosoft<span class="se">\B</span>oot<span class="se">\b</span>ootmgfw.efi
</span></span><span class="line"><span class="cl">bcdedit /set <span class="o">{</span>bootmgr<span class="o">}</span> displaybootmenu yes
</span></span></code></pre></div></li>
</ol>
<p>最后重启电脑，就可以看到双系统的选择界面了。</p>
<p><strong>不过这样会导致选择 Windows 系统的时候会让您再做一次选择</strong>，但这不太影响。</p>
<h4 id="116-text-stylecolorred未解决text为啥转到-windows-系统后时区会出问题">11.6. <text style="color:red">【未解决】</text>为啥转到 Windows 系统后时区会出问题？<a hidden class="anchor" aria-hidden="true" href="#116-text-stylecolorred未解决text为啥转到-windows-系统后时区会出问题">#</a></h4>
<p>笔者也不知道，反正手动同步一下时间就彳亍了。</p>
<h4 id="117-text-stylecolorgreen已解决texttext-stylecolorpurple开发者text为啥我把输出重定向到-nul-结果还是会不断修改一个叫-nul-的文件">11.7. <text style="color:green">【已解决】</text><text style="color:purple">【开发者】</text>为啥我把输出重定向到 NUL 结果还是会不断修改一个叫 NUL 的文件？<a hidden class="anchor" aria-hidden="true" href="#117-text-stylecolorgreen已解决texttext-stylecolorpurple开发者text为啥我把输出重定向到-nul-结果还是会不断修改一个叫-nul-的文件">#</a></h4>
<p>显然 Linux 下并没有把“NUL”识别成“弃用输出”，替代的方法是<strong>把输出重定向到<code>/dev/null</code></strong>。</p>
<p>这个文件很特殊，如果读取它就会直接返回<code>EOF</code>（文件结尾标志），如果输出到它就会直接丢弃。</p>
<h4 id="118-text-stylecolorgreen已解决text我没磁盘空间了">11.8. <text style="color:green">【已解决】</text>我没磁盘空间了……<a hidden class="anchor" aria-hidden="true" href="#118-text-stylecolorgreen已解决text我没磁盘空间了">#</a></h4>
<p>此时可以打开左下角“显示应用”，点击“工具”文件夹，打开“磁盘占用分析器”应用。</p>
<p>然后点击写着您的用户名的盘，下面路径应当是<code>/</code>，一般都排在第一个。</p>
<p>接下来等一会儿就可以得到系统各个部分的占用空间了。</p>
<p>此时可以不断点击占用最多的那个文件夹左边的“大于号”，就可以展开这个文件夹内部的空间占用情况了。</p>
<p>不断往下找找到是哪个文件/文件夹占用最大，问 DeepSeek 如何安全删除/缩小空间即可。</p>
<h1 id="ubuntu-彩蛋合集">Ubuntu 彩蛋合集<a hidden class="anchor" aria-hidden="true" href="#ubuntu-彩蛋合集">#</a></h1>
<p>Ubuntu 作为一个开源的系统，其开发者会通过“无厘头的设计”缓解技术工具的严肃性，体现了开源社区的趣味性。</p>
<p>所以在最后，请允许我向您说一些 Ubuntu 内的彩蛋。</p>
<p>（下面彩蛋解析均粘贴自 DeepSeek 的回答，并由编者进行了小修改）</p>
<h2 id="1-本-apt-具有超级牛力">1. 本 APT 具有超级牛力<a hidden class="anchor" aria-hidden="true" href="#1-本-apt-具有超级牛力">#</a></h2>
<p>这是APT包管理器（特别是<code>apt-get</code>命令）中一个著名的复活节彩蛋（Easter Egg），其英文原文为：<br>
<strong>“This APT has Super Cow Powers.”</strong></p>
<p>以下是关于该彩蛋的完整解析：</p>
<h3 id="彩蛋的核心内容">彩蛋的核心内容<a hidden class="anchor" aria-hidden="true" href="#彩蛋的核心内容">#</a></h3>
<ol>
<li>
<p><strong>触发方式</strong></p>
<ul>
<li>运行 <code>apt-get --help</code> 时，帮助文本末尾会显示：<br>
<code>This APT has Super Cow Powers.</code>（本APT具有超级牛力）。</li>
<li>运行 <code>apt-get moo</code> 会显示一头ASCII艺术奶牛和提示语：
<pre tabindex="0"><code>                 (__) 
                 (oo) 
           /------\/ 
          / |    ||   
         *  /\---/\ 
            ~~   ~~   
...&#34;Have you mooed today?&#34;...
</code></pre></li>
</ul>
</li>
<li>
<p><strong>彩蛋含义</strong></p>
<ul>
<li><strong>“超级牛力”</strong> 是开发者对APT强大功能的幽默比喻，灵感源于早期开发者Jason Gunthorpe在IRC上以“Moo”打招呼的习惯，逐渐演变为社区文化。</li>
<li>奶牛形象可能源自经典命令行工具 <code>cowsay</code>（可用奶牛显示任意文本）。</li>
</ul>
</li>
</ol>
<h3 id="彩蛋的起源与含义">彩蛋的起源与含义<a hidden class="anchor" aria-hidden="true" href="#彩蛋的起源与含义">#</a></h3>
<ol>
<li>
<p><strong>历史来源</strong></p>
<ul>
<li>由APT核心开发者 <strong>Jason Gunthorpe</strong> 于2001年（APT 0.5.0版本）添加，源于开发者社区内部关于“奶牛”的玩笑。</li>
<li>邮件列表记录显示，该彩蛋是对早期Unix文化中 <code>cowsay</code> 工具的致敬。</li>
</ul>
</li>
<li>
<p><strong>文化意义</strong></p>
<ul>
<li><strong>开源幽默</strong>：通过无厘头的设计缓解技术工具的严肃性，体现开源社区的趣味性。</li>
<li><strong>社区梗</strong>：<code>aptitude</code> 的“蛇吞象”彩蛋引用《小王子》，进一步拓展了“超级牛力”的叙事。</li>
</ul>
</li>
</ol>
<h2 id="2-aptitude-的层级式彩蛋">2. <code>aptitude</code> 的层级式彩蛋<a hidden class="anchor" aria-hidden="true" href="#2-aptitude-的层级式彩蛋">#</a></h2>
<ul>
<li>首先安装一下<code>aptitude</code>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install aptitude
</span></span></code></pre></div></li>
<li>运行 <code>aptitude moo</code> 会显示：<br>
<code>There are no Easter Eggs in this program.</code>（本程序无复活节彩蛋）。</li>
<li><strong>但持续增加 <code>-v</code> 参数会触发隐藏对话</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">aptitude -v moo        <span class="c1"># → “本程序中确实没有复活节彩蛋。”</span>
</span></span><span class="line"><span class="cl">aptitude -vv moo       <span class="c1"># → “我不是告诉过您没有彩蛋了吗？”</span>
</span></span><span class="line"><span class="cl">aptitude -vvv moo      <span class="c1"># → “停下！”</span>
</span></span><span class="line"><span class="cl">aptitude -vvvv moo     <span class="c1"># → “好吧，如果我给您彩蛋，您会离开吗？”</span>
</span></span><span class="line"><span class="cl">aptitude -vvvvv moo    <span class="c1"># → 显示大象被蛇吞食的ASCII画（致敬《小王子》）。</span>
</span></span></code></pre></div>此处调侃 <code>aptitude</code> “没有超级牛力”，实则是更复杂的彩蛋。</li>
<li><strong>来源</strong>：开发者对用户执着追问的幽默回应，灵感源自圣埃克苏佩里的文学作品。</li>
</ul>
<h2 id="3-cowsay--xcowsay会说话的牛">3. <code>cowsay</code> &amp; <code>xcowsay</code>（会说话的牛）<a hidden class="anchor" aria-hidden="true" href="#3-cowsay--xcowsay会说话的牛">#</a></h2>
<ul>
<li><strong>触发命令</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install cowsay xcowsay  <span class="c1"># 安装</span>
</span></span><span class="line"><span class="cl">cowsay <span class="s2">&#34;Hello Ubuntu!&#34;</span>           <span class="c1"># 终端牛说话</span>
</span></span><span class="line"><span class="cl">xcowsay <span class="s2">&#34;图形界面的牛！&#34;</span>         <span class="c1"># 弹出窗口牛</span>
</span></span></code></pre></div></li>
<li><strong>扩展玩法</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">fortune <span class="p">|</span> cowsay                 <span class="c1"># 牛说随机名言</span>
</span></span><span class="line"><span class="cl">cowsay -f stegosaurus <span class="s2">&#34;恐龙版&#34;</span>   <span class="c1"># 切换角色（支持龙、幽灵等）</span>
</span></span></code></pre></div></li>
<li><strong>来源</strong>：源自早期 LISP 编写的 <code>cowsay</code> 工具，后成为终端恶搞标配。</li>
</ul>
<h2 id="4-sl蒸汽火车">4. <code>sl</code>（蒸汽火车）<a hidden class="anchor" aria-hidden="true" href="#4-sl蒸汽火车">#</a></h2>
<ul>
<li><strong>触发命令</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install sl
</span></span><span class="line"><span class="cl">sl                              <span class="c1"># 火车从左向右驶过终端</span>
</span></span><span class="line"><span class="cl">sl -h                           <span class="c1"># 隐藏彩蛋：显示帮助信息中的调侃</span>
</span></span></code></pre></div></li>
<li><strong>设计意图</strong>：专治手误输入 <code>sl</code> 代替 <code>ls</code> 的用户，用幽默缓解挫败感。</li>
</ul>
<h2 id="5-fortune毒鸡汤生成器">5. <code>fortune</code>（毒鸡汤生成器）<a hidden class="anchor" aria-hidden="true" href="#5-fortune毒鸡汤生成器">#</a></h2>
<ul>
<li><strong>触发命令</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install fortune fortune-zh  <span class="c1"># 安装中英文库</span>
</span></span><span class="line"><span class="cl">fortune                     <span class="c1"># 随机英文名言/笑话</span>
</span></span><span class="line"><span class="cl">fortune-zh                  <span class="c1"># 唐诗宋词/中文段子</span>
</span></span></code></pre></div></li>
<li><strong>进阶组合</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">fortune <span class="p">|</span> lolcat            <span class="c1"># 彩虹色输出（需安装 lolcat）</span>
</span></span></code></pre></div></li>
</ul>
<h2 id="6-hollywood伪装黑客">6. <code>hollywood</code>（伪装黑客）<a hidden class="anchor" aria-hidden="true" href="#6-hollywood伪装黑客">#</a></h2>
<ul>
<li><strong>触发命令</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install hollywood byobu
</span></span><span class="line"><span class="cl">hollywood                   <span class="c1"># 分屏显示代码滚动、系统监控等“装忙”界面</span>
</span></span></code></pre></div></li>
<li><strong>来源</strong>：Ubuntu 开发者 Dustin Kirkland 在长途航班中创作，用于“假装日理万机”。</li>
</ul>
<h2 id="7-gnome-桌面隐藏命令">7. GNOME 桌面隐藏命令<a hidden class="anchor" aria-hidden="true" href="#7-gnome-桌面隐藏命令">#</a></h2>
<ul>
<li><strong>触发方式</strong>：<br>
<code>Alt+F2</code> 打开运行窗口，输入以下命令：
<ul>
<li><code>gegls from outer space</code> → 弹出 <strong>丑陋的牛和鱼</strong> 的 ASCII 画</li>
<li><code>free the fish</code> → 桌面出现<strong>游动的鱼</strong>（点击可关闭）</li>
</ul>
</li>
<li><strong>来源</strong>：GEGL 是 GIMP 的图像处理库，彩蛋调侃其早期版本渲染效果。</li>
</ul>
<h2 id="8-oneko追鼠标的猫">8. <code>oneko</code>（追鼠标的猫）<a hidden class="anchor" aria-hidden="true" href="#8-oneko追鼠标的猫">#</a></h2>
<ul>
<li><strong>触发命令</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install oneko
</span></span><span class="line"><span class="cl">oneko                         <span class="c1"># 小猫追随鼠标，不动时睡觉</span>
</span></span></code></pre></div></li>
<li><strong>限制</strong>：仅支持 X11 桌面环境，Wayland 下失效。</li>
</ul>
<h2 id="9-sudo-嘲讽模式">9. sudo 嘲讽模式<a hidden class="anchor" aria-hidden="true" href="#9-sudo-嘲讽模式">#</a></h2>
<ul>
<li><strong>触发配置</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo visudo                  <span class="c1"># 编辑文件</span>
</span></span><span class="line"><span class="cl">在 <span class="s2">&#34;Defaults&#34;</span> 行后添加 <span class="sb">`</span>Defaults insults<span class="sb">`</span>  <span class="c1"># 启用嘲讽</span>
</span></span></code></pre></div></li>
<li><strong>效果</strong>：输错密码时返回毒舌回复（例如 <em>“煎饼脑子，我没时间听你胡说！”</em>）。</li>
</ul>
<h2 id="10-cal-的诡异月份">10. <code>cal</code> 的诡异月份<a hidden class="anchor" aria-hidden="true" href="#10-cal-的诡异月份">#</a></h2>
<ul>
<li><strong>触发命令</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cal <span class="m">9</span> <span class="m">1752</span>                   <span class="c1"># 显示 1752 年 9 月（缺少 11 天）</span>
</span></span></code></pre></div></li>
<li><strong>历史背景</strong>：1752 年英国切换历法，删除了 9 月 3–13 日。</li>
</ul>
<h2 id="总结">总结<a hidden class="anchor" aria-hidden="true" href="#总结">#</a></h2>
<blockquote>
<p><strong>提示</strong>：部分彩蛋（如 <code>oneko</code>）依赖 X11 图形服务器，在 Ubuntu 24.04 默认的 Wayland 下可能失效，可尝试在登录界面切换为 “Ubuntu on Xorg”。</p></blockquote>
<p>这些彩蛋用幽默彩蛋缓解命令行工具的冰冷感，成为Debian/Ubuntu社区的经典文化符号。同时也体现了 Linux 社区“严谨中藏趣味”的文化——它们虽无实际用途，却在枯燥的命令行中埋下了令人会心一笑的惊喜，成为技术文化中独特的“数字遗产”。</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://qjwh.github.io/tags/%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/">系统相关</a></li>
      <li><a href="https://qjwh.github.io/tags/%E5%A8%B1%E4%B9%90/">娱乐</a></li>
    </ul>
  </footer><script src="https://giscus.app/client.js"
        data-repo="qjwh/qjwh.github.io"
        data-repo-id="R_kgDON2IyEw"
        data-category="Announcements"
        data-category-id="DIC_kwDON2IyE84Cm0DH"
        data-mapping="pathname"
        data-strict="1"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://qjwh.github.io/">CXBlog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
